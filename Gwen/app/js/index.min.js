async function onMenuClicked(n,t){var i,u;const r=document.querySelectorAll(".nav_link:not(.more)");r&&(r.forEach(n=>n.classList.remove("active")),t.classList.add("active"),i=document.getElementById("body-pd"),i.classList.remove("menu-mobile-open"),i.classList.remove("menu-more"));u=document.querySelector("title").getAttribute("data-brand");document.title=u+" - "+t.getAttribute("menu-title");hidePopover();await loadComponents()}function fixMainWidth(n,t,i){var r=document.getElementById("body-pd"),u;r&&!r.classList.contains("no-menu")&&(!r||r.classList.contains("menu-open")||r.classList.contains("menu-pinned")||(t=0),r.classList.add("resizing"),u=document.querySelectorAll(".height-100, .header"),u.forEach(n=>{n.style.width="",n.setAttribute("style","width:"+(n.getBoundingClientRect().width+(t||0))+"px")}),r.classList.remove("resizing"));i||setTimeout(function(){fixMainWidth(n,t,!0)},500)}function selectMenuItem(){var n=!1,i=window.location.href,t;document.querySelectorAll(".nav_link").forEach(n=>n.classList.remove("active"));document.querySelectorAll(".nav_list").forEach(t=>t.querySelectorAll(".nav_link").forEach(t=>{if(i.endsWith(t.getAttribute("data-target"))){n=!0;t.classList.add("active");var r=document.querySelector("title").getAttribute("data-brand");document.title=r+" - "+t.getAttribute("menu-title")}}));n||document.querySelectorAll(".nav_list").forEach(t=>{var r=Array.prototype.slice.call(t.querySelectorAll(".nav_link"));r.reverse().forEach(t=>{if(!n&&i.includes(t.getAttribute("data-target"))){n=!0;t.classList.add("active");var r=document.querySelector("title").getAttribute("data-brand");document.title=r+" - "+t.getAttribute("menu-title")}})});t=document.querySelector("html");t&&t.classList.contains("zipper")&&(n||document.querySelectorAll(".nav_list").forEach(n=>n.querySelector(".nav_link").classList.add("active")),document.querySelectorAll("a.nav_link.active").forEach(n=>n.click()));onComponentsLoaded()}async function loadComponents(){var n=document.getElementById("component"),i,t;n.innerHTML="";n.classList.add("loading");i=document.querySelector(".nav_link.active");t=i.getAttribute("data-target");setComponentUrl(t);await fetchHtml(t).then(i=>{n.innerHTML=i,n.classList.remove("loading"),onComponentsLoaded(),window.history.pushState({html:i,pageTitle:"test"},"",t)})}function onLoadedDetailPage(n,t){location.href.endsWith(t)||location.href.includes("/detail/")&&t.includes("/detail/")?window.history.replaceState({html:n,pageTitle:"test"},"",t):window.history.pushState({html:n,pageTitle:"test"},"",t);$(".height-100").addClass("skills-detail-page-container")}async function reloadComponents(){var n=document.getElementById("content-page"),t;if(n&&!n.classList.contains("hidden")&&n.hasAttribute("data-component-url")){initSkillsContentPage({type:"reload"});return}n=document.getElementById("component");n.innerHTML="";n.classList.add("loading");t=n.getAttribute("data-component-url");t&&t.length?await fetchHtml(t).then(i=>{n.innerHTML=i,n.classList.remove("loading"),onComponentsLoaded(),window.history.replaceState({html:i,pageTitle:"test"},"",t)}):window.location.reload()}function setComponentUrl(n){var t=document.getElementById("component");t.setAttribute("data-component-url",n)}function onComponentsLoaded(){var n=document.querySelector("html"),t;n&&n.classList.contains("zipper")&&(t=document.getElementById("component"),t.querySelectorAll("*[data-post-load]").forEach(n=>{var t=$(n).data("post-load");if(t&&typeof window[t]=="function")try{window[t]()}catch(i){}}));loadAsync("#component div[data-load-url]");$(".height-100").removeClass("skills-detail-page-container");initPage()}function initPage(){initTabs();initMasonry();initPrevNext();initButtons();initLinks();initPopover();initBack();initPublishAll();typeof loadDocumentsDropzone=="function"&&loadDocumentsDropzone();checkPosters();resizeElements();textAreaAdjust();typeof loadReflectionDropzone=="function"&&loadReflectionDropzone();typeof initTestCharts=="function"&&initTestCharts();removeEmptyQuestionGroups();typeof initialzeClassTable=="function"&&initialzeClassTable();instantMarkAllSeen();initTooltips();typeof loadZipForm=="function"&&loadZipForm();typeof loadDropzone=="function"&&loadDropzone();canPopover()||document.querySelectorAll('*[data-bs-toggle="tab"]').forEach(n=>{n.addEventListener("click",function(){var n=this.closest(".tabbable-line");n.querySelectorAll(".tab-pane").forEach(n=>n.classList.remove("active"));n.querySelectorAll(this.getAttribute("href")).forEach(n=>n.classList.add("active"));n.querySelectorAll('.nav-tabs *[data-bs-toggle="tab"]').forEach(n=>n.classList.remove("active"));this.classList.add("active")})});$("#menu-page")&&$("#menu-page").length>0&&(!$("#content-page:not(.hidden)")||$("#content-page:not(.hidden)").length==0)&&onPagePopped();initSelect()}function removeEmptyQuestionGroups(){$(".ReflectionAnswers:not(.SelfReflection):not(.SelfReflectionV2) .question-group").each(function(n,t){t.children.length<=0&&$(t).remove()});$(".chart-panel").each(function(n,t){(!t.querySelector(".text-50")||t.querySelector(".text-50").length<=0)&&$(t).remove()})}function resizeElements(){document.querySelectorAll(".SelfReflection, .SelfReflectionV2").length&&document.querySelectorAll(".SelfReflection, .SelfReflectionV2").forEach(n=>{n.querySelectorAll(".textarea, .textarea-no-edit, .img-100").forEach(n=>n.setAttribute("style",""));var t=0;n.querySelectorAll(".panel-30, .panel-50").forEach(n=>{var r=n.querySelectorAll(".img-100"),i;r.length?(i=0,r.forEach(n=>{i+=n.getBoundingClientRect().height}),t=Math.max(t,i)):t=Math.max(t,n.getBoundingClientRect().height)});n.querySelectorAll(".question-group.panel-30, .question-group.panel-50").forEach(n=>{var i,r,u;n.querySelectorAll(".relative-panel").length&&(i=0,n.querySelectorAll(".relative-panel").forEach(n=>i+=n.getBoundingClientRect().height),t>i&&(r=n.querySelectorAll(".textarea, .textarea-no-edit, .img-100"),u=(t-i)/r.length,r.forEach(n=>n.setAttribute("style","min-height:"+(n.getBoundingClientRect().height+u)+"px"))))})});document.querySelectorAll(".question-thumb").forEach(n=>{n.removeAttribute("style")});document.querySelectorAll(".question-thumb").forEach(n=>{var t=n.closest(".has-question-thumb"),i;t&&(i=Math.max(appWidth<=850?90:120,t.getBoundingClientRect().height),n.setAttribute("style","height:"+i+"px"))})}function initBack(){var t=document.getElementById("body-pd"),n;t&&(n=document.getElementById("component").querySelectorAll("#btn-back:not(.inited)"),n.forEach(n=>n.classList.add("inited")),n.forEach(n=>n.addEventListener("click",function(){var n=document.referrer;history.length>2&&(!n||!n.includes("/mijn-scholen"))?window.history.back():document.querySelector(".nav_link.active").click();n&&n.includes("/detail/")||$(".height-100").removeClass("skills-detail-page-container")})),t.classList.toggle("has-back",n&&n.length))}function initLinks(){var i=document.querySelectorAll("#menu-page.skills .block:not(.img-20):not(.text-20):not(.create-project)"),n,t;i.forEach(n=>n.addEventListener("click",initSkillsContentPage));n=document.querySelectorAll(".methodetoetsen .block");n.forEach(n=>n.addEventListener("click",initSkillsContentPage));t=document.querySelectorAll(".werkbladen .block");t.forEach(n=>n.addEventListener("click",async function(){var n=document.getElementById("component"),t;n.innerHTML="";n.classList.add("loading");t=this.getAttribute("data-target");setComponentUrl(t);await fetchHtml(t).then(i=>{n.innerHTML=i,n.classList.remove("loading"),onLoadedDetailPage(i,t),initPage(),loadAsync("#component div[data-load-url]")})}))}function initSkillsTargets(n){var i=document.querySelector(n.getAttribute("data-load-target")),t;n.innerHTML=i.innerHTML;t=document.querySelector(n.getAttribute("data-active"));t.classList.add("active")}async function initSkillsContentPage(n,t){var u,i,r;t=t||this;hidePopover();u=document.getElementById("menu-page");u.classList.add("hidden");i=document.getElementById("content-page");i.innerHTML="";i.classList.add("loading");i.classList.remove("hidden");r=n.type=="click"?t.getAttribute("data-target"):i.getAttribute("data-component-url");i.setAttribute("data-component-url",r);setComponentUrl(r);await fetchHtml(r).then(n=>{var u,f,e,o,s,h,n,t,c;i.innerHTML=n;i.classList.remove("loading");document.querySelectorAll("div.container-overview-loader").forEach(n=>initSkillsTargets(n));onLoadedDetailPage(document.getElementById("component").innerHTML,r);initSelect();initPage();document.querySelectorAll("div[data-load-target]").forEach(n=>{initSkillsTargets(n),n.querySelectorAll(".text-sub").forEach(n=>n.addEventListener("click",initSkillsContentPage)),initTooltips()});navTabsHeight();u=0;f=document.getElementById("container-blocks-detail");f&&(f.addEventListener("scroll",function(){var n=this.scrollTop-u||1,t;Math.abs(n)>76&&(t=document.getElementById("body-pd"),t.classList.toggle("hidden-bar",n>0&&u>76),u=this.scrollTop)}),document.getElementById("container-blocks-detail").onscroll=function(){var n=document.querySelector(".container-blocks-detail"),i,t,r;n.classList.contains("c1")||n.classList.contains("p1")||n.classList.contains("f1")||(i=this.scrollTop,document.querySelectorAll(".container-blocks-detail .tab-pane").forEach(n=>{o+i>=n.offsetTop&&(t=n)}),t&&(r=t.closest(".tabbable-line").querySelector(".nav-tabs li:first-child a"),document.querySelectorAll(".container-blocks-detail .block-container:first-child .nav-tabs a").forEach(n=>{r.getAttribute("id")==n.getAttribute("data-target-id")?n.classList.add("active"):n.classList.remove("active")})))},e=document.querySelector(".container-blocks-detail"),o=e.offsetTop,document.querySelectorAll(".container-blocks-detail .block-container:first-child .nav-tabs a").forEach(n=>{n.addEventListener("click",function(){var t=this.getAttribute("data-target-id"),n=document.getElementById("container-blocks-detail").getAttribute("class"),i,r;n=n.replace("t1","").replace("t2","").replace("t3","").replace("f1","").replace("p1","").replace("c1","");document.getElementById("container-blocks-detail").setAttribute("class",n+" "+t);i=document.getElementById(t).closest(".tabbable-line").querySelector(".tab-pane");r=i.offsetTop-o;e.scrollTop=r;document.querySelectorAll(".container-blocks-detail .block-container:first-child .nav-tabs a.active").forEach(n=>n.classList.remove("active"));this.classList.add("active")})}),s=document.querySelectorAll(".btn-toggle-view"),s.forEach(n=>n.addEventListener("click",async function(){document.getElementById("container-blocks-detail").classList.toggle("list-view");document.querySelectorAll(".btn-toggle-view").forEach(n=>n.classList.toggle("active"));document.getElementById(this.getAttribute("data-click")).click();var n=document.getElementById("container-blocks-detail").classList.contains("list-view")?"list-view":"block-view";saveCookie(".MijnRapportfolio.SkillsViewMode",n,!1)})),h=document.querySelectorAll(".btn-toggle-show"),h.forEach(n=>n.addEventListener("click",async function(){document.getElementById("container-blocks-detail").classList.toggle("hide-empty");document.querySelectorAll(".btn-toggle-show").forEach(n=>n.classList.toggle("active"));navTabsHeight();var n=document.getElementById("container-blocks-detail").classList.contains("hide-empty")?"hide-empty":"show-empty";saveCookie(".MijnRapportfolio.SkillsShowMode",n,!0)})),t=getCookie(".MijnRapportfolio.SkillsViewMode"),appWidth<768&&(!t||!t.length)&&(document.getElementById("container-blocks-detail").classList.add("list-view"),document.getElementById("container-blocks-detail").classList.add("f1"),document.querySelectorAll(".btn-toggle-view.block-view").forEach(n=>n.classList.remove("active")),document.querySelectorAll(".btn-toggle-view.list-view").forEach(n=>n.classList.add("active")),$("#container-blocks-detail .tab-pane").removeClass("active"),$('.f1 .tab-pane, *[data-target-id="f1"]').addClass("active")),n=document.querySelector("html"),n&&n.classList.contains("zipper")&&(t=getCookie(".MijnRapportfolio.SkillsViewMode"),t=="list-view"&&$(".btn-toggle-view.list-view").click(),c=getCookie(".MijnRapportfolio.SkillsShowMode"),c=="show-empty"&&$(".btn-toggle-show.btn-show-empty").click()))})}function navTabsHeight(){try{const n=document.documentElement,t=document.querySelector("#container-blocks-detail .nav-tabs");n.style.setProperty("--nav-tabs-height",`${t.getBoundingClientRect().height}px`)}catch(n){}}function initButtons(){var n=document.querySelectorAll(".skills .btn[data-target]");n.forEach(n=>n.addEventListener("click",async function(){var n=document.getElementById("component"),t;n.innerHTML="";n.classList.add("loading");t=this.getAttribute("data-target");setComponentUrl(t);await fetchHtml(t).then(t=>{n.innerHTML=t,n.classList.remove("loading"),initPage()})}))}async function fetchHtml(n){var i,t;return n.startsWith("#")?(i=document.querySelector(n),i.innerHTML):(await $.ajax({url:n,headers:{view:"partial"},type:"GET",cache:!1,success:function(n){t=n},error:function(n){t=n}}),t)}function iosVersion(){if(navigator.userAgent.match(/ipad|iphone|ipod/i)){var n={};return n.User_Agent=navigator.userAgent,n.As_Reported=navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)[0],n.Major_Release=navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)[0].split("_")[0],n.Full_Release=navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)[0].replace(/_/g,"."),n.Major_Release_Numeric=+navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)[0].split("_")[0].replace("OS ",""),n.Full_Release_Numeric=+navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)[0].replace("_",".").replace("_","").replace("OS ",""),n}}function initTabs(){}function initMasonry(){var n=document.querySelector(".container-img.masonry");n!=null&&(masonryGrid=new Masonry(n,{itemSelector:"div.img-block:not(.hidden)",columnWidth:".img-sm:not(.hidden)",gutter:10,transitionDuration:"0.1s"}))}function initPrevNext(){var n=document.querySelector(".next-btn");n!=null&&n.addEventListener("click",function(){var n=document.querySelectorAll(".card.active:not(.end)");n[n.length-1].classList.remove("active")});n=document.querySelector(".prev-btn");n!=null&&n.addEventListener("click",function(){var n=document.querySelectorAll(".card:not(.active):not(.end)");n[0].classList.add("active")})}function initPopover(){var n,t,i;canPopover()?(n=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]:not(.inited)')),n.map(function(n){return new bootstrap.Popover(n,{container:"body",html:!0,sanitize:!1,content:function(){hidePopover();var n=this.getAttribute("data-bs-content-target"),t=document.querySelector(n);return t!=null?t.innerHTML:n}})}),n.forEach(n=>n.classList.add("inited"))):(n=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]:not(.inited)')),n.forEach(n=>n.addEventListener("click",function(){closeAllPopups();var n=this.getAttribute("data-bs-content-target");openPopupTarget(n,null,"","popover-body")})),n.forEach(n=>n.classList.add("inited")));t=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]:not(.inited)'));i=t.map(function(n){return new bootstrap.Tooltip(n)});t.forEach(n=>n.classList.add("inited"))}function recreatePopover(n){if(canPopover()){var t=[].slice.call(document.querySelectorAll(n));t.forEach(n=>$(n).popover("dispose"));t.forEach(n=>n.classList.remove("inited"));t.forEach(n=>n.classList.remove("show"));setTimeout(initPopover,300)}}function hidePopover(){canPopover()?$(".popover").popover("hide"):closeAllPopups()}function updatePopover(){canPopover()&&$(".popover").popover("update")}function canPopover(){if(_canPopover==null)try{const n=document.createElement("div");$(n).popover();_canPopover=!0}catch(n){_canPopover=!1}return _canPopover}function onTabbed(n,t){n.preventDefault();var i=$(t).find('i[data-bs-toggle="popover"]');$(t).hasClass("active")&&(i.hasClass("show")?(i.popover("hide"),i.removeClass("show")):(i.popover("show"),i.addClass("show")))}function onSearch(n,t,i,r){searchList(n,t,i,r)}function searchList(n,t,r,u){var e=t.value.toUpperCase(),f=document.querySelectorAll(r),o,s,h;for(i=0;i<f.length;i++)searchable=f[i].textContent,e&&e.length?(o=!1,searchable.toUpperCase().indexOf(e)>-1&&(s=searchable.toUpperCase(),h=s.indexOf("TECHNIE"),o=!0),o?f[i].classList.remove("hidden"):f[i].classList.add("hidden")):f[i].classList.remove("hidden");u&&u()}function saveCookie(n,t,i){try{var r=$("#body-pd").data("userid");r&&r.length&&(document.cookie=n+"."+r+"="+t+(i?"":"; expires=Fri, 31 Dec 9999 23:59:59 GMT")+"; path=/;")}catch(u){}}function getCookie(n){var t,r,i;try{if(t=$("#body-pd").data("userid"),t&&t.length)return r=n+"."+t,i=document.cookie.match(RegExp("(?:^|;\\s*)"+r+"=([^;]*)")),i?i[1]:null}catch(u){}}function hideFinishedProjects(){$(".project-active.finished:not(.active):not(.last)").addClass("hidden");$(".project-menu-finished-btn").removeClass("active")}function showFinishedProjects(){$(".project-active.finished:not(.active):not(.last)").toggleClass("hidden");$(".project-menu-finished-btn").toggleClass("active")}function textAreaAdjust(n){$("textarea").each(function(t,i){textAreaAdjustEl(i,n)})}function textAreaAdjustEl(n,t){n.style.height="1px";n.style.height=5+n.scrollHeight+"px";t||resizeElements()}function toggleCitoView(n,t,i){$(".cito-view").addClass("hidden");$(i).removeClass("hidden");$(".btn-toggle").removeClass("active");$(t).addClass("active")}function animateBack(){window.event.ctrlKey||($("html").addClass("back-animation"),setTimeout(function(){$("body").prepend('<div class="loading"><\/div>')},800))}function animateForward(){window.event.ctrlKey||($("html").addClass("forward-animation"),hidePopover(),setTimeout(function(){$("body").prepend('<div class="loading"><\/div>')},800))}function initPublishAll(){$(".publish-all")&&$(".publish-all").length&&!$(".publish-all").hasClass("disabled")?($(".btn-publish-page").removeClass("disabled"),$(".publish-page").addClass("can-publish-page")):($(".btn-publish-page").addClass("disabled"),$(".publish-page").removeClass("can-publish-page"));$(".publish-all-start").addClass("can-publish-page")}function publishPageClick(){hidePopover();$(".publish-all").click()}function publishAllClick(n,t){hidePopover();openPopupTarget($(t).attr("data-href"),function(){initSelect()})}function publishStudents(){$(".popup-body .publish-container").addClass("next");$(".popup-body form").ajaxSubmit({success:function(n){$(".popup-body").html(n)}})}function publishForms(n,t){$(".popup-body form").each(function(n,i){$(i).find("input:checked").each(function(n,t){$(t).before("<i class='bx bx-loader-circle'><\/i>")});$(i).addClass("submitted");$(t).addClass("hidden");$(i).ajaxSubmit({context:i,success:function(){$(this).find(".bx-loader-circle").removeClass("bx-loader-circle").addClass("bxs-check-circle");$(this).addClass("complete");onPublishComplete()},error:function(){$(this).find(".bx-loader-circle").removeClass("bx-loader-circle").addClass("bxs-x-circle");$(this).addClass("complete");onPublishComplete()}})})}function onPublishComplete(){$(".popup-body form:not(.complete)")&&$(".popup-body form:not(.complete)").length||(clearTimeout(publishTimeoutId),publishTimeoutId=setTimeout(function(){reloadComponents()},1200))}async function openPopup(n,t,i){await openPopupTarget(t.getAttribute("data-popup"),initPage,i)}async function reloadPopup(n){var t=document.querySelector(".popup-template:last-child .popup-body");await loadPopup(t.getAttribute("data-popup"),n||initPage,t)}async function openSmallPopupTarget(n,t,i,r){await loadPopup(n,t,createSmallPopup(i,r))}async function openPopupTarget(n,t,i,r){await loadPopup(n,t,createLargePopup(i,r))}async function loadPopup(n,t,i){hidePopover();await fetchHtml(n,!0).then(r=>{i.classList.remove("loading"),i.innerHTML=r,i.setAttribute("data-popup",n),t&&t()})}async function openSmallPopup(n,t,i,r){var u=createSmallPopup(n,r);u.classList.remove("loading");u.innerHTML=t;i&&i()}async function openLargePopup(n,t,i,r){var u=createLargePopup(n,r);u.classList.remove("loading");u.innerHTML=t;i&&i()}function openConfirm(n,t,i,r,u,f,e){confirmCallback=u;var o=createSmallPopup(n);o.classList.remove("loading");o.innerHTML=t+'<div class="btn-container"><div class="btn btn-cancel '+(f||"btn-cancel")+'" onclick="confirmCallback(false)">'+(i||"Annuleren")+'<\/div><div class="btn btn-continue '+(e||"btn-success")+'" onclick="confirmCallback(true)">'+(r||"Doorgaan")+"<\/div><\/div>"}function createSmallPopup(n,t){return createPopup(n,t+" popup-sm")}function createLargePopup(n,t){return createPopup(n,t)}function createPopup(n,t){var s=document.getElementById("popup-template"),e=document.getElementById("body-pd"),o,r,u,f,i;for(e.insertAdjacentHTML("beforeend",s.innerHTML),o=document.querySelector(".popup-template:last-child .popup-title"),o.innerHTML=n||"",r=document.querySelector(".popup-template:last-child .popup-body"),r.innerHTML='<span class="loading"><\/span>',u=document.querySelector(".popup-template:last-child .popup"),f=t&&t.length>0?t.split(" "):[],i=0;i<f.length;i++)u.classList.add(f[i]);return setTimeout(function(){u.classList.add("popup-show")},100),e.classList.add("popup-show"),r}function closeAllPopups(){var n=document.querySelectorAll(".popup-template");n.forEach(n=>closePopupEl(n))}function closePopup(n){var t,r,i,u;if(n=n||1,t=document.querySelectorAll(".popup-template"),t.length<=1)r=document.getElementById("body-pd"),r.classList.remove("popup-show"),t.forEach(n=>closePopupEl(n));else for(i=1;i<=n;i++)u=t[t.length-i],closePopupEl(u);typeof stopSpinning=="function"&&stopSpinning()}function closePopupEl(n){n.querySelectorAll(".popup").forEach(n=>n.classList.remove("popup-show"));setTimeout(function(){n.remove()},100)}function onError(n,t,i){var u=t&&Number.isInteger(t)?t:n&&n!==null?n.status:i.status,r=getCustomError(u);r?showError(r):showError(i||t)}function getCustomError(n){return customErrorCodes[n]}function showError(n,t){n&&n!=="Internal Server Error"&&n!=="Not Modified"&&n!=="notmodified"&&n!==""||(n="Er is iets misgegaan.");openSmallPopup(t||"Oeps",n)}function isNative(){return typeof invokeCSharpAction=="function"}function isApp(){return $("html").hasClass("app")}function loadAsync(n){$(n).each(function(n,t){(!$(this).parents(".hidden")||$(this).parents(".hidden").length<=0)&&(!$(this).parents(".invisible")||$(this).parents(".invisible").length<=0)&&($(t).addClass("loading"),$(t).load($(t).data("load-url")||$(t).data("reload-url"),function(n,i,r){r.status!==200&&$(t).html(n);$(t).removeClass("loading");$(t).parent().hasClass("todo-list")||$(t).parent().fadeTo(500,1);$(t).css("display","inherited").fadeTo(500,1);setTimeout(function(){initPopover();initTooltips();checkPosters();var n=$(t).data("post-load");if(n&&typeof window[n]=="function")try{window[n]()}catch(i){}loadAsync($(t).find("div[data-load-url]"));$(t).hasClass("picker-content")&&recreatePopover(".header_container");typeof resizeElements=="function"&&resizeElements();typeof onPrintLoaded=="function"&&onPrintLoaded();textAreaAdjust();removeEmptyQuestionGroups()},100)}))});typeof initialzeClassTable=="function"&&initialzeClassTable()}function isTouch(){return"ontouchstart"in window}function initTooltips(){$(".tooltip").remove();isTouch()?($('[data-toggle="tooltip"].touch').tooltip({html:!0,trigger:"manual"}),$('[data-toggle="tooltip"].touch').click(function(){$(".tooltip").remove();$(this).tooltip("show")})):$('[data-toggle="tooltip"]').tooltip({html:!0,trigger:"hover"});window.addEventListener("scroll",function(){$(".tooltip").remove()})}function goBack(n){setCookie(directionCookie,n?"backAndReload":"back",1);doBackAnimation&&($("#inner-content").removeClass("scene_element--fadeinleft"),$("#inner-content").removeClass("scene_element--fadeinright"),$("#inner-content").addClass("scene_element--fadeoutright"));setTimeout(function(){window.history.back()},100)}function onGoBack(){isNative()&&(window.location.href.includes("/start/overzicht")||window.location.href.includes("/start/notificaties"))?invokeCSharpAction("{ action:'kill' }"):isNative()&&(window.location.href.includes("/rapporten/print")||window.location.href.includes("/media/preview"))&&$("#header-back")&&$("#header-back").length?$("#header-back").click():window.history.back()}function htmlEncode(n){return $("<div/>").text(n).html()}function rotateImage(n,t,i,r,u,f){n.stopPropagation();n.preventDefault();r=r+"&t="+(new Date).getTime();$(t).addClass("disabled");$(t).addClass("fa-spin");var e=$(t).parent(".file-approval");e&&e.attr("style","display:inline-block");$.post(i,function(n,i,r){r.status===200&&($(u).each(function(){var n=$(this).data("rotate"),t,i;(!n||n>=4)&&(n=0);$(this).data("rotate",++n);$(this).attr("data-rotated",n);t=Math.min($(this).height(),$(this).width())/Math.max($(this).height(),$(this).width())||1;$(this).data("scale")&&$(this).data("scale")!==1&&(t=1);$(this).data("scale",t);$(this).parents(".board").length>0?(i=t===1||$(this).width()>$(this).height()?0:$(this).height()>$(this).width()?$(this).height()/3:$(this).width()/3,$(this).attr("style","transform: translateY(-"+i+"px) scale("+t+") rotate("+n*90+"deg);")):$(this).attr("style","transform: scale("+t+") rotate("+n*90+"deg);")}),$(".large-"+f).val($(".large-"+f).first().val()+"&t="+(new Date).getTime()));$(t).removeClass("disabled");$(t).removeClass("fa-spin");e&&e.removeAttr("style")}).fail(function(){$(t).removeClass("disabled");$(t).removeClass("fa-spin");e&&e.removeAttr("style")});n.stopPropagation()}function onLoading(n){var t=$("."+n+":not(.poster-only)").filter(":parents(.thumb)").parent().addClass("video-loading")}function onResumed(n){$("."+n+":not(.poster-only)").parent().removeClass("video-loading");var t=$("."+n+":not(.poster-only)").filter(":parents(.thumb)").attr("poster","")}function checkPosters(n){$("video:not(.checked-poster)").each(function(){checkPoster($(this),n)});[].forEach.call(document.querySelectorAll("img[data-src]"),function(n){n.onerror=function(){n.removeAttribute("data-src");$(n).addClass("broken");$(n).hasClass("video")&&$(n).parent().children(".processing").css("display","inherit")};n.onload=function(){n.removeAttribute("data-src")};n.setAttribute("src",n.getAttribute("data-src"))})}function checkPoster(n,t){var r=n.prop("poster"),i;r&&(n.addClass("checked-poster"),i=new Image,i.onerror=function(){n.parent().children(".processing").css("display","inherit");n.parent().children("img").removeAttr("src")},i.onload=function(){t&&t()},i.src=r);n.on("error",function(){$(this).removeAttr("controls")})}function markSeenClick(n,t,i,r){n.stopPropagation();$(t).hasClass("markable")&&markSeen(t,i,r)}function markSeen(n,t,i,r){t&&t.length?$.post(url_Unseen_MarkSeen,{unseenIds:t},function(u,f,e){var s,o,h;if((e.status===200||e.status===304)&&(s=t.length,n&&$(n).length&&($(n).removeClass("markable"),recalculate($(n),s),i=$(n).data("groups"),$(n).data("unseenids","")),i))for(o=0,h=i.length;o<h;o++)$("."+i[o]).each(function(){recalculate($(this),s,i[o])});r&&r()}):r&&r()}function recalculate(n,t,i){var f=$(n).data("count"),r,u;$(n).removeClass("unseen-"+f);r=f-t;$(n).children(".unseen").html(r);$(n).addClass("unseen-"+r);$(n).data("count",r);u=$(n).data("markable-count");u>0&&r<=u&&!$(n).hasClass("markable")&&($(n).addClass("markable"),instantMarkSeen($(n)));i&&i.startsWith("uid-")&&$(n).removeClass(i)}function markItemSeen(n){if(n&&n.length){var t=$("#"+n).data("unseenids"),i=$("#"+n).data("groups");markSeen($("#"+n),t,i)}}function markItemSeenSelector(n){n&&n.length&&document.querySelectorAll(n).forEach(n=>{var t=$(n).data("unseenids"),i=$(n).data("groups");markSeen($(n),t,i)})}function instantMarkAllSeen(){var n=[];$(".instant-markable:not(.seen)").each(function(){(!$(this).parents(".hidden")||$(this).parents(".hidden").length<=0)&&(!$(this).parents(".invisible")||$(this).parents(".invisible").length<=0)&&(!$(this).parents(".p1")||$(this).parents(".p1").length<=0)&&(!$(this).parents(".f1")||$(this).parents(".f1").length<=0)&&(!$(this).parents(".c1")||$(this).parents(".c1").length<=0)&&(n.push($(this)),$(this).addClass("seen"))});instantMarkElementsSeen(n)}function instantMarkElementsSeen(n){var t=[];$(n).each(function(){t=t.concat($(this).data("unseenids"))});t&&t.length&&$.post(url_Unseen_MarkSeen,{unseenIds:t},function(t,i,r){r.status===200&&$(n).each(function(){var n,i,t,r;if($(this).attr("data-unseenids",""),n=null,i=1,$(this)&&$(this).length)try{i=$(this).data("unseenIds").length}catch(u){}if($(this)&&$(this).length&&(n=$(this).data("groups")),n)for(t=0,r=n.length;t<r;t++)$("."+n[t]).each(function(){recalculate($(this),i,n[t])})})})}function instantMarkSeen(n){instantMarkElementsSeen([n])}function instantMarkSeenBtn(n){var t=$(n).data("unseenids");t&&t.length&&$.post(url_Unseen_MarkSeen,{unseenIds:t},function(t,i,r){r.status===200&&$(n).parents(".markseen-remove").remove()})}function markItemSeenAndGoTo(n,t,i,r){n.preventDefault();markItemSeen(i);$(t).attr("target")=="_blank"?window.open(r,"_blank").focus():setTimeout(function(){window.location.href=r},1e3)}function onModalClose(){$(".popup-body .markable").each(function(){var n=$(this).data("unseenids"),t=$(this).data("groups");markSeen($(this),n,t)})}function closePopupMarkSeen(){$(".popup-body .markable").each(function(){var n=$(this).data("unseenids"),t=$(this).data("groups");markSeen($(this),n,t)});closePopup();abortUploads()}function markableEachSeen(n){$(n).each(function(){var i=$(this).data("count"),t=$(this).data("groups"),n,r;if(t&&i>0)for(n=0,r=t.length;n<r;n++)$("."+t[n]).each(function(){recalculate($(this),i,t[n])})})}function abortUploads(){try{$.each(abortables,function(n,t){try{t.readyState<4&&t.abort()}catch(i){}});abortables=[]}catch(n){}}function printHtml(n,t){hidePopover();fakeSpinner(n,t);$("*[data-chart-url]:visible").length>0||$('*[data-post-load="loadScolCharts"]:visible').length>0||$(".toetsen:visible").length>0?(openSmallPopup("Voorbereiden...",'<span class="loading"><\/span>',null,"no-close"),$("body").addClass("print"),window.dispatchEvent(new Event("resize")),setTimeout(function(){onPrintPage(n,t);$(".popup-title").html("Klaar om te printen");$(".popup-body").addClass("text-center");$(".popup-body").html('<div class="btn" onclick="donePrinting()">Klaar met printen<\/div>');setTimeout(donePrinting,100)},2500)):onPrintPage(n,t)}function onPrintPage(){isNative()?invokeCSharpAction("{ action: 'print' }"):window.print()}function donePrinting(){$("body").removeClass("print");window.dispatchEvent(new Event("resize"));closePopup()}function logoff(n,t){n.preventDefault();n.stopPropagation();onLogoff();$(t).find("form").submit()}function onLogoff(){isNative()&&invokeCSharpAction("{ action: 'deleteCredentials' }");postChannelMessage("onLogOff")}function showImageModal(n,t,i){var u,e,f,r;if(n.preventDefault(),u=$("#large-"+i).val(),u&&u.length)openLargePopup("",$("#"+t).html(),null,"popup-img"),e=$(".popup-img").find("img"),$(e).attr("src",u);else if(openLargePopup("",$("#"+t).html(),null,"popup-img"),f=$("#video-"+i),f&&f.length){checkPoster($(".popup-img video"));checkPosters();r=$(".popup-img video");$(r).attr("width","550");$(r).attr("height","550");$(r).prop("controls",!0);$(r).attr("poster",$("#largeposter-"+i).val());$(r).find("source").attr("src",$("#largevideo-"+i).val());try{$(r)[0].play()}catch(o){}}}function downloadURI(n,t){var i=document.createElement("a");i.download=t;i.href=n;i.click()}function selectAll(n,t){var i=$(n).prop("checked");$(t).prop("checked",i)}function checkPosition(n,t,i){var r=!1;$(t).each(function(n,t){r=r||$(t).prop("checked")});$(i).prop("checked",r)}function keyboardAccess(n,t,i){(n.which===13||n.which===32)&&(i?$(t).find(i).click():$(t).click())}function fakeSpinner(n,t){var u=$(t).find("i").attr("class"),i,r;$(t).find("i").removeClass(u);$(t).find("i").addClass("bx bx-loader-circle");$(t).addClass("disabled");i="";$(t).hasClass("dropdown-item")&&(r=$(t).closest(".btn-group").find(".dropdown-toggle"),i=r.html(),r.html(i+"<i class='bx bx-loader-circle'><\/i>"),r.addClass("btn-loading"));setTimeout(function(){if($(t).find("i").removeClass("bx bx-loader-circle"),$(t).find("i").addClass(u),$(t).removeClass("disabled"),$(t).hasClass("dropdown-item")){var n=$(t).closest(".btn-group").find(".dropdown-toggle");n.html(i);n.removeClass("btn-loading")}hidePopover()},3e3)}function showGallery(n,t,i){n.preventDefault();currentGalleryId=i;openPopupTarget(url_home_gallery,function(){checkPoster($(".popup-body video"));checkPosters();initTooltips()},"Galerij")}function chooseGalleryFile(n,t,i,r){var h,e,o,u,c,f,l,a,s;n.preventDefault();n.stopPropagation();$(currentGalleryId).val(i);h=$(currentGalleryId).closest(".gallery-container").find('input[type="file"]');h.val("");e=$(currentGalleryId).closest(".gallery-container").find(".uploadResult");e.removeAttr("src");e.addClass("hidden");o=$(currentGalleryId).closest(".gallery-container").find(".choosePicture");o.html('<span class="fas fa-spinner fa-spin"><\/span>');u=$(currentGalleryId).closest(".gallery-container").find(".nopreview");u.addClass("hidden");c=$(currentGalleryId).closest(".gallery-container").find(".default-wrapper");c.addClass("hidden");f=$(currentGalleryId).closest(".gallery-container").find(".gallerypreview");f.addClass("hidden");l=$(currentGalleryId).closest(".gallery-container").find("#dropZone .file-preview-wrapper-container");l.addClass("hidden");a=$(currentGalleryId).closest(".gallery-container").find("#GalleryFileDescription");a.val($("#gallery-description"+i).val());o.addClass("hidden");r.startsWith("image/")||r.startsWith("image/")?(f.removeClass("hidden"),s=$("#gallery-"+i).find("img").attr("src"),f.html('<img class="bg-img uploadResult" src="'+s+'"><img class="fg-img preview main"  src="'+s+'">')):(u.removeClass("hidden"),u.html($("#gallery-"+i).html()));closePopup();$(currentGalleryId).closest(".gallery-container").find(".uploadDiv").css({opacity:.3});$(currentGalleryId).closest(".gallery-container").find(".submitBtn").removeClass("disabled");$(currentGalleryId).closest(".gallery-container").find(".submitBtn").html('Opslaan <span class="fa fa-save"><\/span>');$(currentGalleryId).closest(".gallery-container").find("#uploadResultContainer").addClass("hidden");$(currentGalleryId).hasClass("auto-save")&&typeof saveFile=="function"&&saveFile(null,$(currentGalleryId).closest(".file-container").find(".submitBtn.btn-file"))}function onSkillsPageEdited(){var n=$(".on-page-edited");n&&n.length&&(n.removeClass("hidden"),$(".btn-print").addClass("disabled"))}function initSelect(){$("select.selectpicker").selectpicker({maxOptions:1,noneSelectedText:"Niets geselecteerd",liveSearch:!0,selectAllText:"Alles selecteren",deselectAllText:"Alles deselecteren",noneResultsText:"{0} niet gevonden",virtualScroll:!1});$("select.multiselectpicker").selectpicker({maxOptions:1e4,noneSelectedText:"Niets geselecteerd",liveSearch:!0,selectAllText:"Alles selecteren",deselectAllText:"Alles deselecteren",noneResultsText:"{0} niet gevonden",virtualScroll:!1})}function initDateTimePicker(){var i=document.querySelectorAll(".datepicker:not(.max-today)"),n,t;i.forEach(n=>{var i=new tempusDominus.TempusDominus(n,{display:{components:{date:!0,decades:!0,month:!0,year:!0,hours:!1,minutes:!1,seconds:!1}}}),t,r;i.dates.formatInput=n=>moment(n).format("DD-MM-YYYY");t=n.querySelector("input").getAttribute("value");t&&t.length&&(r=moment(t,"DD-MM-YYYY").toDate(),i.dates.setValue(tempusDominus.DateTime.convert(r)))});n=document.querySelectorAll(".datepicker.max-today");n.forEach(n=>{var i=new tempusDominus.TempusDominus(n,{display:{components:{date:!0,decades:!0,month:!0,year:!0,hours:!1,minutes:!1,seconds:!1}},restrictions:{maxDate:new Date}}),t,r;i.dates.formatInput=n=>moment(n).format("DD-MM-YYYY");t=n.querySelector("input").getAttribute("value");t&&t.length&&(r=moment(t,"DD-MM-YYYY").toDate(),i.dates.setValue(tempusDominus.DateTime.convert(r)))});t=document.querySelectorAll(".datetimepicker");t.forEach(n=>{var i=new tempusDominus.TempusDominus(n,{display:{components:{date:!0,decades:!0,month:!0,year:!0,hours:!0,minutes:!0,seconds:!1}}}),t,r;i.dates.formatInput=n=>moment(n).format("DD-MM-YYYY HH:mm");t=n.querySelector("input").getAttribute("value");t&&t.length&&(r=moment(t,"DD-MM-YYYY HH:mm").toDate(),i.dates.setValue(tempusDominus.DateTime.convert(r)))})}function initTableWrapper(){setTimeout(function(){for(var t,r,u,f=document.querySelectorAll(".table-wrapper:not(.no-grab)"),i=0,n;n=f[i];i++)if(t=!1,n){$(n).on("mousedown",function(n){t=!0;this.classList.add("active");r=n.pageX-this.offsetLeft;u=this.scrollLeft});$(n).on("mouseleave",function(){t=!1;this.classList.remove("active")});$(n).on("mouseup",function(){t=!1;this.classList.remove("active")});$(n).on("mousemove",function(n){if(t){n.preventDefault();const i=n.pageX-this.offsetLeft,f=i-r;this.scrollLeft=u-f}})}},1e3)}function requestCameraPermission(){invokeCSharpAction("{ action:'hasCameraPermission', callback:'requestCameraPermissionCallback' }")}function requestCameraPermissionCallback(n){n=="granted"?$("html").removeClass("no-camera-permission").addClass("has-camera-permission"):n=="denied"&&$("html").removeClass("has-camera-permission").addClass("no-camera-permission")}function onDownloadStarted(){hidePopover()}function onDownloadFinised(){}function onDownloadError(){openSmallPopup("Oeps","Download mislukt")}function onChannelMessage(n){n.data==="onStudentPicked"||n.data==="onClassPicked"?$('*[data-bs-content-target="#picker"]').length>0&&location.reload():n.data==="onLogOff"&&(window.location.href=url_LogOff)}function postChannelMessage(n){try{channel.postMessage(n)}catch(t){}}function redirect(n,t){var r,i,u,f;n.preventDefault();r=document.getElementById("component");r.innerHTML="";r.classList.add("loading");i=$(t).attr("classid");i?(u=$(".picker-item-"+i).attr("data-name"),f=$(".picker-item-"+i).attr("data-img"),pick(url_Student_SetSelectedClass,i,i,u,f,async function(){window.location=$(t).attr("href")})):window.location=$(t).attr("href")}function onClassBtnClick(n){document.querySelectorAll(".class-area").forEach(n=>n.classList.add("hidden"));document.querySelectorAll(".class-area-"+n).forEach(n=>n.classList.remove("hidden"));document.querySelectorAll(".class-btn").forEach(n=>n.classList.remove("active"));document.querySelectorAll(".class-btn-"+n).forEach(n=>n.classList.add("active"));updatePopover()}function pickClass(n,t,i,r,u){pick(url_Student_SetSelectedClass,n,n,t,i,async function(n){await onPicked();updateProjects(u,r,"");n.status===200&&(document.getElementById("picker-id").setAttribute("value",""),document.getElementById("picker-schoolyears").setAttribute("value",JSON.stringify(r)),document.getElementById("picker-studentids").setAttribute("value",JSON.stringify(u)));postChannelMessage("onClassPicked")})}function pickStudent(n,t,i,r,u){pick(url_Student_SetSelectedStudent,n,t,i,r,async function(t){await onPicked();updateProjects([n],u,n);t.status===200&&(document.getElementById("picker-id").setAttribute("value",n),document.getElementById("picker-schoolyears").setAttribute("value",JSON.stringify(u)),document.getElementById("picker-studentids").setAttribute("value",JSON.stringify([n])));postChannelMessage("onStudentPicked")})}function pick(n,t,i,r,u,f){try{abortUploads()}catch(e){}updateNotifications(t);hidePopover();$.post(n,{id:t,classId:i},function(n,t,i){try{abortUploads()}catch(e){}i.status===200&&(document.querySelectorAll(".picker-name").forEach(n=>n.innerHTML=r),document.querySelectorAll(".picker-img").forEach(n=>n.setAttribute("src",u)));f(i)})}function updateNotifications(n){$(".unseen-wrapper:not(.student-sum)").addClass("hidden");$(".unseen-wrapper-"+n).removeClass("hidden")}function updateProjects(n,t,i){$(".project-item, .survey-item").removeClass("project-active").removeClass("finished").removeClass("last").addClass("hidden");$(".project-blocks").removeClass("hidden");$(".visible-all").addClass("project-active").removeClass("hidden");$(".finished-all").addClass("finished");n&&(n.forEach(n=>{$(".visible-"+n).addClass("project-active").removeClass("hidden")}),n.length<=1&&n.forEach(n=>{$(".finished-"+n).addClass("finished")}));t&&t.forEach(n=>{$(".visible-"+n).addClass("project-active").removeClass("hidden")});i.length>0?$(".create-project").addClass("project-active").removeClass("hidden"):$(".create-project").removeClass("project-active").addClass("hidden");$(".tab-pane .project-item.finished").length==0?$(".project-menu-finished-btn").addClass("hidden"):$(".project-menu-finished-btn").removeClass("hidden");$(".project-menu-default-btn").click();$(".tab-pane .project-item.project-active:not(.hidden)").length==0&&($("#content-page .project-item.project-active:first").removeClass("hidden").addClass("last"),$("#menu-page .project-item.project-active:first").removeClass("hidden").addClass("last"));$(".project-blocks .project-active").length==0&&$(".project-blocks").addClass("hidden")}function onPagePopped(){try{updateProjects(JSON.parse(document.getElementById("picker-studentids").getAttribute("value")),JSON.parse(document.getElementById("picker-schoolyears").getAttribute("value")),document.getElementById("picker-id").getAttribute("value"))}catch(n){}}async function onPicked(){$("#menu-page.skills")&&$("#menu-page.skills").length>0&&(!$("#content-page:not(.hidden)")||$("#content-page:not(.hidden)").length==0)?onPagePopped():await reloadComponents()}function toggleRole(n,t,i,r){try{abortUploads()}catch(n){}$.post(url_Student_ToggleRole,{role:i},async function(n,i,u){u.status===200&&($(t).parents("li").find(".check").removeClass("check"),$(t).addClass("check"),$(".role-notification").html(r),r&&r.length?$("html").addClass("has-role-notification"):$("html").removeClass("has-role-notification"),setTimeout(await onRoleToggled,250))})}async function onRoleToggled(){hidePopover();loadAsync("#picker div[data-load-url]");recreatePopover(".header_container");await reloadComponents()}function onRankingLoaded(){($(".visibleGroup").find(".unansweredList").first().children().length!==0||$("path.active").length>0&&$('path.active:not([fill="var(--background)"])').length==0)&&onPrevnext(!0);$(".sortable").sortable({start:function(n,t){$(t.item).parent().attr("id")!=="unansweredList"&&t.item.data("start_pos",t.item.index())},stop:function(n,t){var i=$(".visibleGroup").find(".unansweredList").first().children().length,r=t.item.data("start_pos");i<=0&&r!==t.item.index()&&updateRankingAnswers(selectedSurveyAnswerGroupId,userSurveyAnswerId,$(".visibleGroup").first().data("option-group-id"))},connectWith:".answeredList"}).disableSelection();$(document).on("click",".visibleGroup .unansweredList li",function(){liAction(this)});$(document).on("keyup",".visibleGroup .unansweredList li",function(n){n.which===13&&liAction(this)})}function liAction(n){$(n).detach().appendTo(".visibleGroup .answeredList");var t=$(".visibleGroup").find(".unansweredList").first().children().length;t<=0&&updateRankingAnswers(selectedSurveyAnswerGroupId,userSurveyAnswerId,$(".visibleGroup").first().data("option-group-id"))}function onPrevnext(n){n?$("#nextBtn").hasClass("hidden")?hasNext=!1:($(".visibleGroup").find(".unansweredList").first().children().length!==0||$("path.active").length>0&&$('path.active:not([fill="var(--background)"])').length==0)&&($("#nextBtn").addClass("disabled"),hasNext=!0):($("#nextBtn").removeClass("disabled"),hasNext=!0)}function startUpdating(){complete||setTimeout(startUpdating(),1e3);$(".visibleGroup").addClass("disabled-no-pointer");$(".visibleGroup").addClass("unsaved");complete=!1}function stopUpdating(){$(".visibleGroup").removeClass("disabled-no-pointer");$(".visibleGroup").removeClass("unsaved");complete=!0;$(".visibleGroup").find(".unansweredList").first().children().length===0&&hasNext&&$("#nextBtn").removeClass("disabled")}function updateRankingAnswers(n,t,i){startUpdating();var r=[];$(".visibleGroup").find(".answeredList").first().children().each(function(n){r.push({Key:$(this).attr("id"),Value:$("#AnswerOption-"+i+"-"+n).val()})});$.post(url_reflection_addorupdateanswers,{surveyAnswerGroupId:n,surveyAnswerId:t,answers:r,completed:!0},function(n,t,i){i.status!==200?$(".visibleGroup").find(".sortable").sortable("cancel"):completeDot();stopUpdating()}).fail(function(){$(".visibleGroup").find(".sortable").sortable("cancel");stopUpdating()})}function showLocalReportCharts(){$("div[data-chart-load]").each(function(n,t){charts[$(t).data("chart-load")]=$(t).html()});showLocalJsonCharts(350)}function showLocalCharts(n){$("div[data-chart-load]").each(function(n,t){charts[$(t).data("chart-load")]=$(t).html()});showLocalJsonCharts(n)}function showLocalJsonCharts(n){$.each(charts,function(t,i){try{var r=JSON.parse(i),u="",f="";r.hasOwnProperty("defaultPostit")&&!inPopUp&&(u=r.defaultPostit,f=r[u],showPostit(t,u,f));r.data.type==="donut"&&(r.data.onmouseover=function(n){mouseHovered(t,n.id,r)},r.data.onmouseout=function(){showPostit(t,u,f)});r.data.onclick=function(n){mouseHovered(t,n.id,r)};n||(n=$("#chart"+t).parent().width(),(typeof n=="undefined"||n>500||n<100)&&(n=Math.min($(window).width()-100,500)));c3.generate({bindto:"#chart"+t,size:{width:n},data:r.data,color:{pattern:chartColors},legend:{item:{onmouseover:function(n){mouseHovered(t,n,r)}}},axis:{x:{show:!1},y:{show:!1}},tooltip:{show:!1},onrendered:function(){$(".c3-chart-bar").removeAttr("style");$(".c3-chart-bar").hover(function(){var i=$.grep($(this).attr("class").split(" "),function(n){return n.indexOf("c3-target-")===0}).join(),n=i.replace("c3-target-","");n=n.replace(/-/g," ");mouseHovered(t,n,r)})}});$("#chart"+t).mouseleave(function(){inPopUp||showPostit(t,u,f)})}catch(e){throw e;}})}function mouseHovered(n,t,i){if(t!=="Onbeantwoord"){var r=i[t];r||Object.keys(i).forEach(function(n){var u=i[n];n.replace(/[^a-zA-Z0-9]/g," ")==t&&(r=u,t=n)});showPostit(n,t,r)}else showPostit(n,defaultPostit,defaultPostitText)}function showPostit(n,t,i){t!==""&&(inPopUp?alert(i?i:"...",t):$("#postit-content"+n).html("<b>"+t+"<\/b><br/><br/>"+(i?i:"...")))}function submitQuestionAnswer(n,t,i,r,u,f){$(n).addClass("unsaved");clearTimeout(submitTimer);submitTimer=setTimeout(function(){var e,u,o,s;oldValue=$("#val-"+t+"-"+r).val();e=$("#sval-"+t+"-"+r).val();u=$(n).val();e!==u.toString()?(o=$("#AnswerOption-"+f+"-"+u).val(),$(".btn-prevnext").addClass("disabled-no-pointer"),s=$(".visibleGroup").attr("sortorder"),e=$("#sval-"+t+"-"+r).val(u),$.post(url_Reflection_UpdateAnswer,{surveyAnswerId:t,surveyAnswerGroupId:i,questionId:r,answerOptionId:o,completed:!0},function(i,f,e){e.status!==200?(updateSliderView(r,oldValue),$("#sval-"+t+"-"+r).val(oldValue)):(updateSliderView(r,u),completeDot(null,s));$(".btn-prevnext").removeClass("disabled-no-pointer");$(n).removeClass("unsaved")}).fail(function(){updateSliderView(r,oldValue);$(".btn-prevnext").removeClass("disabled-no-pointer");$("#sval-"+t+"-"+r).val(oldValue);$(n).removeClass("unsaved")})):$(n).removeClass("unsaved")},300)}function beforeOnNext(){var n=$(".visibleGroup").find("input.slider").first(),i,t;n&&(i=n.attr("min"),n.val()==i&&($(n).addClass("unsaved"),$(n).trigger("onmouseup")));t=$("path.active");t&&t.length}function updateSliderView(n,t){$("#slider-"+n).val(t);$("#img-"+n).find(".answer-container").addClass("hidden");$("#img-"+n).find("#answer-"+t).removeClass("hidden")}function mouseOverPie(n,t){$('path[data-question-id="'+t+'"].unsaved').length==0&&$('path[data-question-id="'+t+'"]').each(function(t,i){var r=$(i).data("row");r>=n?$(i).attr("fill",$(i).attr("data-max-color")):$(i).attr("fill",$(i).attr("data-min-color"))})}function mouseOutPie(n,t){$('path[data-question-id="'+t+'"].unsaved').length==0&&$('path[data-question-id="'+t+'"]').each(function(n,t){$(t).attr("fill",$(t).attr("data-color"))})}function submitRadialBarAnswer(n,t,i,r,u,f){$(n).addClass("unsaved");clearTimeout(submitTimer);submitTimer=setTimeout(function(){var u,e,o;oldValue=$("#val-"+t+"-"+r).attr("value");u=$("#sval-"+t+"-"+r).attr("value");oldValue!==f.toString()&&u!==f.toString()?(e=f,$(".btn-prevnext").addClass("disabled-no-pointer"),o=$(".visibleGroup").attr("sortorder"),u=$("#sval-"+t+"-"+r).attr("value",f),$.post(url_Reflection_UpdateAnswer,{surveyAnswerId:t,surveyAnswerGroupId:i,questionId:r,answerOptionId:e,completed:!0},function(i,u,e){e.status!==200?(updateRadialBar(r,oldValue),$("#sval-"+t+"-"+r).attr("value",oldValue)):(updateRadialBar(r,f),$("#val-"+t+"-"+r).attr("value",f),completeDot(null,o));$(".btn-prevnext").removeClass("disabled-no-pointer");$("#nextBtn").removeClass("disabled");$(n).removeClass("unsaved")}).fail(function(){updateRadialBar(r,oldValue);$(".btn-prevnext").removeClass("disabled-no-pointer");$("#sval-"+t+"-"+r).attr("value",oldValue);$(n).removeClass("unsaved")})):oldValue==f?(u=$("#sval-"+t+"-"+r).attr("value",f),$.post(url_Reflection_RemoveAnswer,{surveyAnswerId:t,surveyAnswerGroupId:i,questionId:r,answerOptionId:e},function(i,u,f){f.status!==200?(updateRadialBar(r,oldValue),$("#sval-"+t+"-"+r).attr("value",oldValue)):($("#val-"+t+"-"+r).attr("value",""),$("#sval-"+t+"-"+r).attr("value",""),updateRadialBar(r,null));$(n).removeClass("unsaved")}).fail(function(){updateRadialBar(r,oldValue);$(".btn-prevnext").removeClass("disabled-no-pointer");$("#sval-"+t+"-"+r).attr("value",oldValue);$(n).removeClass("unsaved")})):$(n).removeClass("unsaved")},300)}function updateRadialBar(n,t){var i=0;$('path[data-question-id="'+n+'"]').each(function(n,r){var u=$(r).data("optionId");u==t&&(i=$(r).data("row"))});$('path[data-question-id="'+n+'"]').each(function(n,r){var u=$(r).data("row");u>=i&&t!=null?($(r).attr("fill",$(r).attr("data-max-color")),$(r).attr("data-color",$(r).attr("data-max-color"))):($(r).attr("fill",$(r).attr("data-min-color")),$(r).attr("data-color",$(r).attr("data-min-color")))})}function onPrevnextRadialBar(){var n=$(".nav-dot.selected").attr("data-question-id");$("path").each(function(n,t){$(t).removeClass("active").addClass("inactive")});$('path[data-question-id="'+n+'"]').each(function(n,t){$(t).removeClass("inactive").addClass("active")})}function startSurvey(){$("#surveyExplanation").addClass("hidden");$("#answersContainer").fadeIn();$("#answersContainer").removeClass("hidden");$(".doneBtn").removeClass("hidden")}function previous(n,t){prevnext(!1,n,t)}function next(n,t,i,r,u){typeof beforeOnNext=="function"&&beforeOnNext();var f=setInterval(function(){if($(".unsaved").length<=0)if(clearInterval(f),$('.visibleGroup input[type="range"]')&&$('.visibleGroup input[type="range"]').length&&($('.visibleGroup input[type="range"]').val()==0||$('.visibleGroup input[type="range"]').val()=="0")){var e='<b>Het schuifje is niet aangepast<\/b><br/><br/><div onclick="hidePrevNextPopover()" class="btn btn-navigation">Aanpassen<\/div><div onclick="goNext('+n+","+t+","+i+","+r+","+u+')" class="btn btn-navigation">Toch doorgaan<\/div>';typeof popover=="function"?($("#nextBtn").popover({title:"",sanitize:!1,html:!0,content:function(){return e}}),$("#nextBtn").popover("show")):openSmallPopup("Weet je het zeker?",e)}else goNext(n,t)},200)}function goNext(n,t){$('.visibleGroup input[type="range"]').trigger("onmouseup");prevnext(!0,n,t);hidePrevNextPopover()}function hidePrevNextPopover(){typeof popover=="function"?$("#nextBtn").popover("dispose"):closeAllPopups()}function setQuestionCompledtedPost(n,t,i,r,u,f){$.post(n,function(n,t,i){i.status===200&&r&&prevnext(!0,u,f)})}function prevnext(n,t,i){var u=$(".visibleGroup").attr("sortorder"),r=u,f=!1;n&&u<i?(r++,f=!0):!n&&u>t&&(r--,f=!0);f&&($(".visibleGroup").addClass("hidden"),$(".visibleGroup").removeClass("visibleGroup"),$("#questionGroup-"+r).addClass("visibleGroup"),$("#questionGroup-"+r).removeClass("hidden"),$("#navgroup-"+u).removeClass("selected"),$("#navgroup-"+r).addClass("selected"),completeDot(n,r,u,t));r>=i?($("#nextBtn").addClass("hidden"),readyToSave(r)):$("#nextBtn").removeClass("hidden");r<=t?$("#prevBtn").addClass("hidden"):$("#prevBtn").removeClass("hidden");onPrevnext(n);onPrevnextRadialBar(n)}function readyToSave(n){var i=$("#navgroup-"+n).parent().find(".answered").length,u=$("#navgroup-"+n).parent().find(".completed").length,t=$("#navgroup-"+n).parent().find(".nav-dot").length,r=completeOnView();i===t||i>=(r?t-1:t)&&(!r||u>=t-1)?$(".doneBtn").removeClass("completing"):$(".doneBtn").addClass("completing")}function completeOnView(){var n=$(".visibleGroup").find("#unansweredList");return!n||n.length===0}function completeDot(n,t,i,r){var f=completeOnView(),u;t||(t=$(".visibleGroup").attr("sortorder"));n===!0?$("#navgroup-"+i).addClass("completed"):n===!1&&$("#navgroup-"+t).removeClass("completed");u=$(".visibleGroup").find("#unansweredList");(f&&!i||u&&u.length>0&&u.children().length===0)&&($("#navgroup-"+t).addClass("answered"),$("#navgroup-"+t).find(".fas").addClass("fa-check"));i&&(i===r||f&&n===!0)&&($("#navgroup-"+i).addClass("answered"),$("#navgroup-"+i).find(".fas").addClass("fa-check"));readyToSave(t)}function onPrevNextLoaded(){$(".visibleGroup")&&$(".visibleGroup").length&&readyToSave($(".visibleGroup").attr("sortorder"))}function attemptCompleteSurvey(n,t,i,r,u){$(".doneBtn").addClass("disabled");$(".doneBtn").addClass("btn-loading");completeSurvey(n,t,i,r,u)}function completeSurvey(n,t,i,r,u){var f=setInterval(function(){$(".unsaved").length<=0&&(clearInterval(f),$(".question-unanswered").removeClass("question-unanswered"),$.post(url_reflection_CompleteSurvey,{surveyAnswerId:n,surveyAnswerGroupId:t,isPrevnext:r,skippFillInAfterTeacher:u},function(n,t,r){closePopup();r.status!==200||n&&n.status!=200?($(".doneBtn").removeClass("disabled"),$(".doneBtn").removeClass("btn-loading"),$(".linkDoneBtn").removeClass("doneBtn"),n&&n.status&&onError(n,t,r),n&&n.questionIds&&$(n.questionIds).each(function(n,t){$(".question-block-"+t).addClass("question-unanswered")})):i?reloadAnswers():showGoodJob()}).fail(function(){closePopup();$(".doneBtn").removeClass("disabled");$(".doneBtn").removeClass("btn-loading");$(".linkDoneBtn").removeClass("doneBtn")}))},200)}function showGoodJob(){$(".completeSurveyBtn").hide();openSmallPopup("",'<img id="owlGoodJob" src="'+goodJobOwlUrl+'" class="good-job-owl" />',function(){},"popup-transparent");reloadAnswers();settimeout(function(){closepopup()},3e3)}function delayedUpdateAnswer(n,t,i,r,u,f){var e=n+"-"+u,o;clearTimeout(sliderTimeoutDict[e]);o=setTimeout(function(){updateAnswer(n,t,i,r,u,f)},500);sliderTimeoutDict[e]=o}function updateAnswer(n,t,i,r,u,f){var o=$("#AnswerOption-"+f+"-"+t).val(),e=$("#val-"+i+"-"+n).val(),s=$("#sval-"+i+"-"+n).val();s!==t.toString()&&($("#slider-"+i+"-"+n).addClass("unsaved"),s=$("#sval-"+i+"-"+n).val(t),$.post(url_Reflection_UpdateAnswer,{surveyAnswerId:i,surveyAnswerGroupId:r,questionId:n,answerOptionId:o},function(r,f,s){var h,c;$("#slider-"+i+"-"+n).removeClass("unsaved");s.status===200?($("#val-"+i+"-"+n).val(t),$("#slider-"+i+"-"+n).val(t),h=$("#indicator-"+i+"-"+n+"-"+u),h&&h.length&&(c=h.data("prevsortorder"),$(h).removeClass("fas fa-long-arrow-alt-down").removeClass("fas fa-long-arrow-alt-up").removeClass("fas fa-circle"),$(h).addClass(c>t?"fas fa-long-arrow-alt-down":c<t?"fas fa-long-arrow-alt-up":"fas fa-circle"),$(h).tooltip("hide").attr("data-bs-original-title",c>t?"lager dan vorige afname":c<t?"hoger dan vorige afname":"gelijk aan vorige afname").tooltip("_fixTitle")),updateTriangle(o,n,u),updateLastEdited(o,n,u)):($("#slider-"+i+"-"+n).val(e),$("#sval-"+i+"-"+n).val(e))}).fail(function(){$("#slider-"+i+"-"+n).val(e);$("#slider-"+i+"-"+n).removeClass("unsaved");$("#sval-"+i+"-"+n).val(e)}))}function clickAnswer(n,t,i,r,u,f,e,o,s,h,c){var a=$("#QA-"+i+"-"+e).val(),y=$("#SQA-"+i+"-"+e).val(),l="#rating-"+i+"-"+e+"-"+h,p="#star"+i+"-"+e+"-"+r+"-"+h,v="#star"+i+"-"+e+"-"+a+"-"+h;s&&($(l).find("input").removeClass("checked"),$(p).addClass("checked"));$(t).addClass("disabled");y===r.toString()||c&&o=="null"?(a==r||c&&o=="null")&&($(t).addClass("unsaved"),$("#SQA-"+i+"-"+e).val(r),$(".circle-"+i+"-"+e+"-"+r).addClass("pulse disabled"),s&&$(l).addClass("unsaved"),$.post(url_Reflection_RemoveAnswer,{surveyAnswerId:u,surveyAnswerGroupId:f,questionId:i,answerOptionId:r},function(n,f,o){if(o.status===200){$("#SQA-"+i+"-"+e).val("");$("#QA-"+i+"-"+e).val("");$(".circle-"+i+"-"+e).removeClass("radiobutton-filled");var h=$("#indicator-"+u+"-"+i+"-"+e);h&&h.length&&$(h).removeClass("fas fa-long-arrow-alt-down").removeClass("fas fa-long-arrow-alt-up").removeClass("fas fa-circle");s&&($(l).parent().find("input").removeClass("checked"),$(l).parent().find("input").prop("checked",!1));updateTriangle("",i,e);pasteCutOut("",i,e);updateLastEdited("",i,e)}onClickAnswerComplete(!(o.status===200),i,e,r,a,s,l,v,t,c)}).fail(function(){onClickAnswerComplete(!0,i,e,r,a,s,l,v,t,c)})):($(t).addClass("unsaved"),$("#SQA-"+i+"-"+e).val(r),$(".circle-"+i+"-"+e+"-"+r).addClass("pulse disabled"),s&&$(l).addClass("unsaved"),$.post(url_Reflection_UpdateAnswer,{surveyAnswerId:u,surveyAnswerGroupId:f,questionId:i,answerOptionId:r},function(n,f,h){var y,p;h.status===200&&($("#QA-"+i+"-"+e).val(r),$(".circle-"+i+"-"+e).removeClass("radiobutton-filled"),$(".circle-"+i+"-"+e+"-"+r).addClass("radiobutton-filled"),y=$("#indicator-"+u+"-"+i+"-"+e),y&&y.length&&(p=y.data("prevvalue"),p!=""&&($(y).removeClass("fas fa-long-arrow-alt-down").removeClass("fas fa-long-arrow-alt-up").removeClass("fas fa-circle"),$(y).addClass(p>o?"fas fa-long-arrow-alt-down":p<o?"fas fa-long-arrow-alt-up":"fas fa-circle"),$(y).tooltip("hide").attr("data-bs-original-title",p>o?"lager dan vorige afname":p<o?"hoger dan vorige afname":"gelijk aan vorige afname").tooltip("_fixTitle"))),updateTriangle(r,i,e),pasteCutOut(r,i,e),updateLastEdited(r,i,e));onClickAnswerComplete(!(h.status===200),i,e,r,a,s,l,v,t,c)}).fail(function(){onClickAnswerComplete(!0,i,e,r,a,s,l,v,t,c)}))}function onClickAnswerComplete(n,t,i,r,u,f,e,o,s,h){n&&(f&&($(e).find("input").removeClass("checked"),$(o).addClass("checked"),$(o).prop("checked",!0)),h&&$(s).val(u),$("#SQA-"+t+"-"+i).val(u));f&&$(e).removeClass("unsaved");$(".circle-"+t+"-"+i+"-"+r).removeClass("pulse").removeClass("disabled");$(s).removeClass("unsaved");setTimeout(function(){$(s).removeClass("disabled")},700)}function clickRadioButtonGroupAnswer(n,t,i,r){openConfirm("Wil je alle antwoorden in een keer invullen?","","Niet invullen","Invullen",function(u){u&&$.post(url_Reflection_UpdateGroupAnswer,{questionId:n,answerOptionId:t,surveyAnswerIds:i},function(i,u,f){f.status===200&&$.each(r,function(i,r){$(".circle-"+n+"-"+r).removeClass("radiobutton-filled");$(".circle-"+n+"-"+r+"-"+t).addClass("radiobutton-filled")})});closePopup()})}function updateTriangle(n,t,i){var r=$("#AnswerOptionColor"+n).val()||"transparent";$(".block-"+t+"-"+i).attr("fill",r);$(".class-tile-"+t+"-"+i).data("color",r)}function pasteCutOut(n,t,i){n&&n>0?$(".cutout-"+t+"-"+n+" .answer-container")&&$(".cutout-"+t+"-"+n+" .answer-container").length&&($(".paste-area-"+t+"-"+i).html($(".cutout-"+t+"-"+n+" .answer-container").first().clone()),closePopup()):$(".paste-area-"+t+"-"+i).html("")}function updateLastEdited(n,t,i){$(".question-block").removeClass("last-edited");$(".question-block-"+t+"-"+i+":last").addClass("last-edited")}function updateMultipleAnswer(n,t,i,r,u,f,e){$(t).hasClass("striking-through")||($(t).addClass("striking-through unsaved"),$.post(url_Reflection_UpdateMultipleAnswer,{check:!$(t).hasClass("strikethrough"),surveyAnswerId:r,surveyAnswerGroupId:u,questionId:i,answerOptionId:f},function(n,r,u){u.status===200&&($(t).toggleClass("strikethrough"),updateLastEdited(f,i,e));$(t).removeClass("striking-through").removeClass("unsaved")}).fail(function(){$(t).removeClass("striking-through").removeClass("unsaved")}))}function showCutouts(n,t){openLargePopup("Kiezen",$("#cutouts-"+n+"-"+t).html())}function removeSliderAnswer(n,t,i,r,u){var e=$("#val-"+i+"-"+n).val(),f=$("#val-"+i+"-"+n).val();$("#slider-"+i+"-"+n).addClass("unsaved");$("#sval-"+i+"-"+n).val("");$.post(url_Reflection_RemoveAnswer,{surveyAnswerId:i,surveyAnswerGroupId:r,questionId:n,answerOptionId:e},function(t,r,e){if($("#slider-"+i+"-"+n).removeClass("unsaved"),e.status===200){$("#val-"+i+"-"+n).val("");$("#slider-"+i+"-"+n).val("0");updateSliderView(n+"-"+u,0);var o=$("#indicator-"+i+"-"+n+"-"+u);o&&o.length&&$(o).removeClass("fas fa-long-arrow-alt-down").removeClass("fas fa-long-arrow-alt-up").removeClass("fas fa-circle");$("#slider-"+i+"-"+n).closest(".removed-question")&&$("#slider-"+i+"-"+n).closest(".removed-question").length&&$("#slider-"+i+"-"+n).closest(".removed-question").addClass("hidden")}else $("#slider-"+i+"-"+n).val(f),$("#sval-"+i+"-"+n).val(f)}).fail(function(){$("#slider-"+i+"-"+n).val(f);$("#slider-"+i+"-"+n).removeClass("unsaved");$("#sval-"+i+"-"+n).val(f)})}function removeFileAnswer(n,t,i,r){$(n).removeClass("bx-trash").addClass("bx-loader-circle");$.post(url_Reflection_RemoveAnswer,{surveyAnswerId:i,surveyAnswerGroupId:r,questionId:t,answerOptionId:null},function(t,i,r){var u,f,e,o,s;r.status===200&&(u=$(n).closest(".file-container").find(".uploadResult"),u.removeAttr("src"),u.addClass("hidden"),f=$(n).closest(".file-container").find(".choosePicture"),f.html('<span class="fas fa-spinner fa-spin"><\/span>'),e=$(n).closest(".file-container").find(".nopreview"),e.addClass("hidden"),o=$(n).closest(".file-container").find(".gallerypreview"),o.addClass("hidden"),s=$(n).closest(".file-container").find(".default-wrapper"),s.removeClass("hidden"),$(n).closest(".removed-question")&&$(n).closest(".removed-question").length&&$(n).closest(".removed-question").addClass("hidden"));$(n).removeClass("bx-loader-circle").addClass("bx-trash")}).fail(function(){$(n).removeClass("bx-loader-circle").addClass("bx-trash")})}function initialzeClassTable(){if($("#table-scroll").find(".main-table.clone").length<=0){$(".main-table").clone(!0).appendTo("#table-scroll").addClass("clone");$("#table-scroll .main-table.clone").find("td:not(.fixed-side):not(.empty)").remove();const r=document.querySelector(".table-wrap");var n=!1,t,i;$(r).on("mousedown",function(u){n=!0;r.classList.add("active");t=u.pageX-r.offsetLeft;i=r.scrollLeft});$(r).on("mouseleave",function(){n=!1;r.classList.remove("active")});$(r).on("mouseup",function(){n=!1;r.classList.remove("active")});$(r).on("mousemove",function(u){if(n){u.preventDefault();const f=u.pageX-r.offsetLeft,e=f-t;r.scrollLeft=i-e}})}resizeHeaderAndCol();initDateTimePicker()}function resizeHeaderAndCol(){setDynamicHeaderHeight();setDynamicFixedCol()}function setDynamicHeaderHeight(){var n=0;$(".main-table thead th text").each(function(t,i){var r=$(i).width();r>n&&(n=r)});n>500&&(n=500);n<50&&(n=50);n=Math.round(n);$(".table-scroll thead th").css("height",n/1.4142+20);$(".table-scroll thead th div.rotated").css("width",n+5);$(".table-scroll thead th div.rotated").css("bottom",-(n/1.4142-10))}function setDynamicFixedCol(){var n=0,t;$(".main-table .fixed-side-label text").each(function(t,i){var r=$(i).width();r>n&&(n=r)});t=$(window).width();n>215&&(n=215);n>t/4&&(n=t/4);n<50&&(n=50);n=Math.round(n);$(".table-scroll colgroup col:first-of-type").attr("width",n+30);$(".table-scroll tr td:first-of-type, .table-scroll tr th:first-of-type").css("max-width",n+30)}function toggle(n,t,i){$("#toggle-wrapper").removeClass("table-view info-view fastfill assessor-view complete-class-table my-class-table question-table question-view comment-view file-view");$("#toggle-wrapper").addClass(i);$(t).closest(".nav-tabs").find(".btn-toggle").removeClass("active");$(t).addClass("active");"table-view"===i&&($(".btn-assessor-overview").removeClass("active"),$(".btn-regular-overview").addClass("active"));$("select.selectpicker").selectpicker({flip:!1,container:"#answers",noneSelectedText:"-"})}function loadClassComments(n,t){$("#toggle-wrapper .comment-view").html('<div class="loading"><\/div>');$("#toggle-wrapper .comment-view").load($(t).attr("data-comment-url"),function(){initSelect();textAreaAdjust()});toggle(n,t,"comment-view")}function loadClassFilesView(n,t){initSelect();loadClassFiles();toggle(n,t,"file-view")}function rotateTable(){hidePopover();$(".fa-sync").addClass("fa-spin");setTimeout(function(){$(".paper-container.table-view").toggleClass("student-header-mode");$(".paper-container.table-view").hasClass("student-header-mode")?saveCookie(".MijnRapportfolio.ClassTableHeaderMode","true",!1):saveCookie(".MijnRapportfolio.ClassTableHeaderMode","false",!1);$("#classTable .paper-container").html('<span class="loading"><\/span>');$("#classTable").load($("#classTable").data("url"),function(){initialzeClassTable();initTooltips();initPopover()})},100)}function onDateSelected(){var n=$("#classtable-datetimepicker input");n.val()!=n.attr("data-value")&&(n.attr("data-value",n.val()),onGroupSelected($("#classTable").data("group-id")))}function onGroupSelected(n){var t=$("#classTable").data("url")+"&groupId="+n+"&date="+$("#classtable-datetimepicker input").val();$("#classTable .paper-container").html('<span class="loading"><\/span>');$("#classTable").data("group-id",n);$("#classTable").load(t,function(){initialzeClassTable();initTooltips()})}function onGroupsSelected(n){var t=$("#classTable").data("url")+n;$("#classTable .paper-container").html('<span class="loading"><\/span>');$("#classTable").load(t,function(){initialzeClassTable();initTooltips();initPopover()})}function onQuestionSelected(n,t){$("#ReflectionAnswers").html("");$("#ReflectionAnswers").addClass("loading");$("#ReflectionAnswers").load($(t).attr("data-click"),function(){$("#ReflectionAnswers").removeClass("loading");initTooltips();postReflectionLoad();instantMarkAllSeen();checkPosters();loadReflectionDropzone();initPopover();initSelect();typeof initialzeClassTable=="function"&&initialzeClassTable()})}function postReflectionLoad(){initTooltips();checkPosters();instantMarkAllSeen();typeof showLocalCharts=="function"&&showLocalCharts();typeof onRankingLoaded=="function"&&onRankingLoaded();typeof onPrevNextLoaded=="function"&&onPrevNextLoaded();$(".ReflectionAnswers").fadeIn();$("#management").fadeIn();$("select.selectpicker").selectpicker({flip:!1,container:"#answers",noneSelectedText:"-"});loadReflectionDropzone();initTableWrapper()}function loadReflectionDropzone(){$(".ReflectionAnswers .dropzone, .reflection-table .dropzone").each(function(n,t){$(t).dropzone({maxFiles:1,acceptedFiles:acceptedImageFiles,init:function(){var i,t,n;this.on("addedfile",function(){typeof i!="undefined"&&this.removeFile(i)});this.on("success",function(n){i=n;var t=$(this.element).find('input[name="questionId"]').val(),r=$(this.element).find('input[name="studentId"]').val();updateLastEdited("",t,r)});t=$(this.element).data("file-url");t&&t.length&&(n={name:""},this.emit("addedfile",n),this.emit("success",n),this.emit("complete",n),this.emit("thumbnail",n,t))}})})}function columnMouseOver(){}function columnMouseOut(){}function rowMouseOver(){}function rowMouseOut(){}function columnClick(){}function loadQuestion(){}function columnTouchStart(){}function columnTouchEnd(){}function cancelTouch(){}function updateAnswers(n,t,i,r,u){$("#answers").html("");$("#answers").data("load-url",i||url_Reflection_UpdateAnswers+"&surveyAnswerGroupId="+n+"&previousId="+r);updateDots(n,u);loadAsync("#answers[data-load-url]");markItemSeenSelector(t);hidePopover()}function updateRoleAnswers(n,t,i){$("#answers").html("");var r=$("#answers").data("load-url");r.includes("viewRole=")?(r=r.replaceAll("&viewRole=Student","&viewRole="+i),r=r.replaceAll("&viewRole=Teacher","&viewRole="+i),r=r.replaceAll("&viewRole=Parent","&viewRole="+i),r=r.replaceAll("&viewRole=SchoolAdmin","&viewRole="+i)):r=r+"&viewRole="+i;r.includes("publisedView=")&&(r=r.replaceAll("&publisedView=true",""),r=r.replaceAll("&publisedView=True",""),r=r.replaceAll("&publisedView=1",""));$("#answers").data("load-url",r.toString());loadAsync("#answers[data-load-url]");hidePopover();$(t).parent().find(".container-title-lbl").removeClass("active");$(t).addClass("active")}function viewPublishedAnswers(n,t){$("#answers").html("");var i=$("#answers").data("load-url");i.includes("viewRole=")&&(i=i.replaceAll("&viewRole=Student",""),i=i.replaceAll("&viewRole=Teacher",""),i=i.replaceAll("&viewRole=Parent",""),i=i.replaceAll("&viewRole=SchoolAdmin",""));i=i.includes("publisedView=")?i.replaceAll("&publisedView=False","&publisedView=True"):i+"&publisedView=True";$("#answers").data("load-url",i.toString());loadAsync("#answers[data-load-url]");hidePopover();$(t).parent().find(".container-title-lbl").removeClass("active");$(t).addClass("active")}function updatePrintedAnswers(n,t,i,r,u){$("#answers").fadeTo(100,0,function(){$("#answers").html('<span class="loading"><\/span>');$("#answers").hide().html($("#history-"+n).html()).show();$("#answers").fadeTo(500,1);updateDots(n,u);typeof showLocalCharts=="function"&&showLocalCharts()});hidePopover()}function updateDots(n,t){$("#SelectedSurveyAnswerGroupId").val(n);$(".group-selector .selected").removeClass("selected");$(t||".dot-"+n).addClass("selected");recreatePopover(".nav-tabs .default .bx-chevron-down")}function attemptDeleteReflectionSurveyAnswerGroup(){hidePopover();var n=$("#SelectedSurveyAnswerGroupId").val();attemptDeleteReflectionSurveyAnswerGroupId(n)}function deleteReflectionSurveyAnswerGroup(n){$(".popup-body .btn-continue").addClass("btn-loading");$.post(url_Reflection_DeleteSurveyAnswerGroup+"?surveyAnswerGroupId="+n,function(n,t,i){i.status===200&&reloadAnswers();closeAllPopups()}).fail(closePopup)}function attemptDeleteReflectionSurveyAnswerGroupId(n){openSmallPopup("Weet je het zeker?",'<div>Hiermee verwijder je <b>definitief<\/b> de geselecteerde afname.<br /><br /><div class="text-center"><div id="cancelBtn" class="btn btn-default" onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger btn-continue" onclick="deleteReflectionSurveyAnswerGroup('+n+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div><\/div>')}function editSelectedDate(n){var t="groupIds="+$("#SelectedSurveyAnswerGroupId").val();onEditDate(n,t)}function editSelectedDates(n){var t="";$.each($(".group-selector li.selected").first().data("groupids"),function(n,i){t+="groupIds="+i+"&"});onEditDate(n,t)}function onEditDate(n,t){hidePopover();var i=$(n).attr("data-target");openSmallPopup("Bewerken",'<span class="loading"><\/span>',function(){$(".popup-body").load(i+(i.includes("?")?"&":"?")+t,function(){initDateTimePicker();initSelect();$(".popup-body form").ajaxForm({traditional:!0,success:function(n,t,i){i.status!==200||n?closePopup():(reloadAnswers(),closePopup())},error:function(){closePopup()}})})})}function reloadAnswers(){reloadComponents()}function waitForPause(n,t,i,r,u,f){var e=f||n+"-"+t,h,s,o,c;clearTimeout(timeoutDict[e]);h=$("#oldvalue-"+e).val();s=$("#textualanswer-"+e).val();s!==h?$("#textualanswer-"+e).addClass("unsaved"):$("#textualanswer-"+e).removeClass("unsaved");o=$("#textualanswer-"+e).attr("data-saved");typeof o=="undefined"&&(o=h);$("#textualanswer-"+e).attr("data-saved",s);typeof o!="undefined"&&s.length>o.length+5||typeof o=="undefined"&&s.length>5||typeof o!="undefined"&&s.length<o.length-5||typeof o=="undefined"&&s.length<5?(clearTimeout(timeoutDict[e]),addOrUpdateTextualAnswer(n,t,i,r,u,f)):(c=setTimeout(function(){addOrUpdateTextualAnswer(n,t,i,r,u,f)},1200),timeoutDict[e]=c)}function addOrUpdateTextualAnswer(n,t,i,r,u,f){var e=f||n+"-"+t,s,o;clearTimeout(timeoutDict[e]);s=$("#oldvalue-"+e).val();o=$("#textualanswer-"+e).val();o!==s?($("#textualanswer-"+e).addClass("loading"),$.post(url_home_addorupdatetextualanswer,{surveyAnswerId:i,surveyAnswerGroupId:r,questionId:n,answer:o,answerType:u},function(i,r,u){u.status===200?($("#textualanswer-"+e).removeClass("unsaved"),$("#oldvalue-"+e).val(o),$("#textualanswer-"+e).attr("data-saved",o),updateLastEdited("",n,t)):$("#textualanswer-"+e).val(s);$("#textualanswer-"+e).removeClass("loading")}).fail(function(){$("#textualanswer-"+e).val(s);$("#textualanswer-"+e).removeClass("loading")})):$("#textualanswer-"+e).removeClass("unsaved")}function updatePercentage(n,t){setTimeout(function(){var n=$(t).closest(".container-percent"),r=$(n).find(".input-EduMapsBeheersingsPercentage"),i=$(n).find(".input-EduMapsStreefNiveauCategorie"),u=$(n).find("b");u.html(r.val()+"% "+(i.val().split("-").length>1?i.val().split("-")[1]:i.val()))},500)}function saveFile(n,t,i){var u=$(t).closest(".uploadForm")[0],r=$(u).find(".submitBtn");$(u).ajaxSubmit({traditional:!0,beforeSubmit:function(){return $(r).addClass("btn-loading"),$(r).html('Opslaan <span class="fas fa-spinner fa-spin"><\/span>'),!0},success:function(n,t,f){if(f.status===200){i&&i();$(r).addClass("disabled");$(r).html('Opslaan <span class="bx bx-check"><\/span>');$(u).find(".uploadDiv").css({opacity:1});var e=$(u).find('input[name="questionId"]').val(),o=$(u).find('input[name="studentId"]').val();updateLastEdited("",e,o)}else $(r).html('Opslaan <span class="fa fa-times"><\/span>'),endLoading()},error:function(){$(r).html('Opslaan <span class="fa fa-times"><\/span>');endContentLoading()}})}function readURL(n){var i=$(n).closest(".file-container").find(".uploadResult"),r,u,t,o,s,f,e;i.removeAttr("src");i.addClass("hidden");r=$(n).closest(".file-container").find("#uploadResultContainer");u=$(n).closest(".file-container").find(".choosePicture");u.html('<span class="fas fa-spinner fa-spin"><\/span>');t=$(n).closest(".file-container").find(".nopreview");t.addClass("hidden");o=$(n).closest(".file-container").find(".gallerypreview");o.addClass("hidden");s=$(n).closest(".file-container").find(".default-wrapper");s.addClass("hidden");n.files&&n.files[0]&&(n.files[0].size!==null&&n.files[0].size<maxFileSize?(n.files[0].type.indexOf("image")!==-1?($(r).removeClass("hidden"),$(n).closest(".file-container").find(".show-rotate").addClass("disabled"),$(i).attr("rotate","0"),i.removeClass("hidden"),f=new FileReader,f.onload=function(n){i.attr("src",n.target.result);u.html("")},f.readAsDataURL(n.files[0]),$(n).closest(".file-container").find(".uploadDiv").css({opacity:.3})):($(r).addClass("hidden"),t.removeClass("hidden"),e=n.files[0].name.split(".").pop(),t.find("a").attr("class","preview "+e),t.find(".filename").html(n.files[0].name),t.find(".file-extension").html(""),n.files[0].type.indexOf("video")!==-1?t.find(".fas").attr("class","fas fa-play-circle"):n.files[0].type.indexOf("audio")!==-1?t.find(".fas").attr("class","fas fa-microphone"):(t.find(".fas").attr("class","fas fa-file"),t.find(".file-extension").html("."+e))),$(n).closest(".file-container").find(".submitBtn").removeClass("disabled"),$(n).closest(".file-container").find(".submitBtn").html('Opslaan <span class="fa fa-save"><\/span>'),saveFile(null,$(n).closest(".file-container").find(".submitBtn.btn-file"))):(n.files[0]=null,showError(exceededFileSizeError)))}function startContentLoading(){$(".doneBtn").addClass("disabled");$(".doneBtn").addClass("btn-loading");$("#selfreflectionModal").addClass("disabled")}function endContentLoading(){$(".doneBtn").removeClass("disabled");$(".doneBtn").removeClass("btn-loading");$("#selfreflectionModal").removeClass("disabled")}function clickDone(n,t){$(t).addClass("doneBtn");$("#doneBtn1").click()}function done(n,t){var i,r;startContentLoading();i=0;$(".uploadForm").length&&(r=0,$(".uploadForm").each(function(n,t){$(t).find(".files").get(0).files.length===0&&$(t).find(".gallerypreview").hasClass("hidden")||i++}),$(".uploadForm").each(function(u,f){$(f).find(".files").get(0).files.length===0&&$(f).find(".gallerypreview").hasClass("hidden")||saveFile(null,$(f).find(".submitBtn"),function(){r++;r===i&&completeSurveyAnswer(n,t)})}));i<=0&&completeSurveyAnswer(n,t)}function completeSurveyAnswer(n,t){var i=setInterval(function(){$(".reflection-container .unsaved").length<=0&&(clearInterval(i),$.post(url_reflection_completesurvey,{surveyAnswerId:n,surveyAnswerGroupId:t},function(n,t,i){i.status!==200||n&&n.status!=200?(endContentLoading(),n&&n.status&&onError(n,t,i),n&&n.questionIds&&$(n.questionIds).each(function(n,t){$(".question-block-"+t).addClass("question-unanswered")})):reloadAnswers()}).fail(function(){endContentLoading()}))},200)}function startSpinning(n){$(n).addClass("btn-loading");$(n).find("i").attr("data-class",$(n).find("i").attr("class"));$(n).find("i").attr("class","bx bx-loader-circle")}function stopSpinning(){$(".btn-loading").each(function(n,t){$(t).removeClass("btn-loading");$(t).find("i").attr("class",$(t).find("i").attr("data-class"))})}function closeManagementModal(){stopSpinning();closePopup()}function attemptStartSurveyForClass(n){startSpinning(n);openSmallPopup("Starten...",'<div class="loading"><\/div>');$.get($(n).attr("data-get"),function(t){$.trim(t).length>0?$(".popup-body").html('<div>Wil je de huidige afnames publiceren om een nieuwe afname te kunnen starten?<br /><br /><div id="openSurveys">'+t+'<\/div><\/div><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" style="width:190px;margin-right:5px"  onclick="closeManagementModal()">Annuleren<\/div><div id="continueBtn" class="btn btn-danger" onclick="stopSurveyForClass(this)" data-post="'+$(n).attr("data-post-stop")+'">Ja, ik wil alles publiceren<\/div><\/div>'):startSurveyForClass(n)}).fail(stopSpinning)}function startSurveyForClass(n){doPost($(n).attr("data-post-start"),function(){hidePopover();closeManagementModal();reloadAnswers();stopSpinning()})}function attemptStopSurveyForClass(n){hidePopover();startSpinning(n);openSmallPopup("Publiceren...",'<div class="loading"><\/div>');$.get($(n).attr("data-get"),function(t){$.trim(t).length>0?$(".popup-body").html('<div>Wil je onderstaande afnames sluiten en publiceren? <br/><b>Niemand kan dan nog invullen<\/b><br /><br /><div id="openSurveys">'+t+'<\/div><\/div><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" style="width:190px;margin-right:5px" onclick="closeManagementModal()">Annuleren<\/div><div id="continueBtn" class="btn btn-danger" onclick="stopSurveyForClass(this)" data-post="'+$(n).attr("data-post")+'">Ja, ik wil alles publiceren<\/div><\/div>'):($(".popup-template:last-child .popup-title").text("Weet je het zeker?"),$(".popup-template:last-child .popup-body").html("<div>Er zijn geen openstaande afnames die je nog moet invullen.<\/div><br/>"))}).fail(stopSpinning)}function stopSurveyForClass(n){$(".popup-body").html('<span class="loading"><\/span>');doPost($(n).attr("data-post"),function(){closeManagementModal(!0);reloadAnswers();stopSpinning()})}function attemptNextPeriodForClass(n){startSpinning(n);openSmallPopupTarget($(n).attr("data-get"),function(){},"Weet je het zeker?")}function nextPeriodForClass(n){doPost($(n).attr("data-post"),function(){hidePopover();closeManagementModal();reloadAnswers();stopSpinning()})}function attemptStopSurveyForStudent(n,t,i){hidePopover();startSpinning(n);openSmallPopup("Weet je het zeker?","<div>"+(t||"Het kind is nog niet klaar met invullen. Wil je toch publiceren?")+' <br/><b>Niemand kan daarna nog invullen.<\/b><br/><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" style="width:140px;margin-right:5px" onclick="closeManagementModal()">Annuleren<\/div><div id="continueBtn" class="btn btn-danger" onclick="stopSurveyForStudent(this)" data-post="'+$(n).attr("data-post")+'">'+(i||"Ja, ik wil publiceren")+"<\/div><\/div><\/div>")}function stopSurveyForStudent(n){$(".popup-body").html('<span class="loading"><\/span>');doPost($(n).attr("data-post"),function(){closeManagementModal(!0);reloadAnswers();stopSpinning()})}function attemptStartSurveyForStudent(n){startSpinning(n);startSurveyForStudent(n)}function startSurveyForStudent(n){doPost($(n).attr("data-post"),function(){hidePopover();closeManagementModal();reloadAnswers();stopSpinning()})}function attemptNextPeriodForStudent(n){startSpinning(n);nextPeriodForStudent(n)}function nextPeriodForStudent(n){doPost($(n).attr("data-post"),function(){hidePopover();closeManagementModal();reloadAnswers();stopSpinning()})}function reopenLastSurvey(n){startSpinning(n);hidePopover();doPost($(n).attr("data-post"),function(){stopSpinning();reloadAnswers()})}function unpauseSurveyForStudent(n){startSpinning(n);hidePopover();doPost($(n).attr("data-post"),function(){stopSpinning();reloadAnswers()})}function doPost(n,t){$(".management-btns").addClass("disabled");$.post(n,function(n,i,r){$(".management-btns").removeClass("disabled");r.status===200?t(n,i,r):closeManagementModal()}).fail(function(){$(".management-btns").removeClass("disabled");closeManagementModal()})}function attemptReopenSurveyForClass(n){hidePopover();startSpinning(n);openSmallPopupTarget($(n).attr("data-get"),function(){},"Weet je het zeker?")}function attemptCompleteSurveyForClass(n){hidePopover();startSpinning(n);openSmallPopupTarget($(n).attr("data-post"),function(){},"Weet je het zeker?")}function attemptCompleteAllForClass(n){startSpinning(n);openSmallPopupTarget($(n).attr("data-get"),function(){},"Weet je het zeker?")}function attemptCompleteAllForStudent(n){startSpinning(n);doPost($(n).attr("data-complete"),function(t){t.value.data.status===200?(closeManagementModal(),reloadAnswers(),stopSpinning()):attemptStopSurveyForStudent(n,"Niet iedereen heeft alle (verplichte) vragen ingevuld. Wil je toch publiceren?","Ja, toch publiceren")})}function submitSurveyButtonsForm(n,t,i,r,u){var f,e;n.preventDefault();n.stopPropagation();$(t).addClass("disabled btn-loading");f=0;try{$(t).closest("form").find('input[type="file"]').each(function(n,t){$.each(t.files,function(n,t){f+=t.size})})}catch(n){}f>maxFileSize?($(t).closest("form").prepend('<div id="alert-text" class="text-center text-danger">Je bestand(en) is/zijn te groot (maximale grootte is '+maxFileSize/1e6+"MB)<\/div>"),$(t).removeClass("disabled btn-loading")):(e=$(t).html(),$(t).closest("form").ajaxSubmit({success:function(n,f,e){$("#alert-text")&&$("#alert-text").remove();$(t).removeClass("disabled btn-loading");e.status===200&&(!n||n.value&&n.value.data.status===200)?(closePopup(),r&&n.value.data.redirect?location.href=n.value.data.redirect:u?u():i||location.reload()):n?n.value&&n.value.data.status===202?(u&&u(),$(".popup-title").html(""),$(".popup-body").html(n.value.data.statusText),u||i||reloadAnswers()):$(".popup-body").html(n):e.status===304&&$(t).closest("form").prepend('<div id="alert-text" class="text-center text-danger">Er zijn geen wijzigingen<\/div>')},error:function(){$(t).removeClass("disabled btn-loading")},uploadProgress:function(n,i,r,u){$(t).hasClass("btn-upload")&&(u>=100?$(t).html(e):$(t).html("Uploaden ("+u+"%)"))}}))}function showHistoryChart(n,t,i,r,u){if(u||!($(i).html().length>0)){onModalClose();var f=$(i).attr("data-chart-url");f&&f.length?$.get(f,function(n){r&&r.length&&markItemSeen(r);generateHistoryChartFor(n,i,800)}).fail(handleHistoryFail):regeneratePrintedHistoryChartFor(i)}}function loadHisotryCharts(){document.querySelectorAll("div[data-chart-url]").forEach(n=>{(!n.innerHTML||n.innerHTML.length<1)&&regenerateHistoryChartFor("#"+n.getAttribute("id"))});document.querySelectorAll("div[data-chart-json]").forEach(n=>{(!n.innerHTML||n.innerHTML.length<1)&&regeneratePrintedHistoryChartFor("#"+n.getAttribute("id"))})}function regenerateHistoryChartFor(n){$(n).html("");$(n).addClass("loading");var t=$(n).attr("data-chart-url");$.get(t,function(t){generateHistoryChartFor(t,n,800)}).fail(handleHistoryFail)}function regeneratePrintedHistoryChartFor(n){$(n).html("");$(n).addClass("loading");var t=$(n).attr("data-chart-json"),i=JSON.parse(t);generateHistoryChartFor(i,n,800)}function generateHistoryChartFor(n,t){if($(t).removeClass("loading"),$.trim(n).length>0){var r=c3.generate({padding:{right:25},bindto:t,data:{xs:n.data.xs,x:n.data.x,columns:n.data.columns,labels:n.data.labels?{format:new Function("v","id","i","j",n.data.labels.format.replace(/_/g,"'"))}:null,type:n.data.type,groups:n.data.groups,colors:n.data.colors,order:"asc"},point:{r:4},color:{pattern:n.colorPattern||chartColors},axis:{x:{show:!0,type:n.type,tick:{rotate:n.xNoRotate?null:50,format:n.xTickFormat?new Function("d",n.xTickFormat.replace(/_/g,"'")):"%d-%m-%Y",multiline:!1,culling:n.xTickCulling||{max:10},count:n.xTickCount,values:n.xTickValues},min:n.xMin,max:n.xMax,padding:n.xpadding},y:{padding:{top:5,bottom:5},show:!0,tick:{format:new Function("d",n.tickFunc.replace(/_/g,"'"))},type:"category",categories:n.categories,min:parseInt(n.yMin),max:parseInt(n.yMax)}},grid:{x:{show:!0},y:{show:!0,lines:n.gridYlines}},line:{connectNull:n.connectNull||!1}}),i=$(t).attr("data-edit-url");if(i&&i.length){$(".c3-axis-x .tick").on("click",function(){var n=$(this).children("text").first().children("tspan").first().html();editDate(n,i)});$(".c3-axis-x .tick").each(function(){$(this).attr("style","cursor:pointer");$(this).html($(this).html()+'<g><text x="-10" y="45" style="font-size:20px;color:#048F9A">&#9999;<\/text><\/g>')})}d3.selectAll("#chart .tick text tspan")[0].forEach(function(n){var t=d3.select(n);isNaN(Number(t.text()))?t.attr("dy","0.5em"):t.attr("dy","2em")})}else handleHistoryFail()}function handleHistoryFail(){closePopup();showError("De grafiek is niet beschikbaar.")}function editDate(n,t){openSmallPopup("Bewerken",'<span class="loading"><\/span>',function(){$.get(t,{date:n},function(n,t,i){i.status===200?($(".popup-template:last-child .popup-body").html(n),initDateTimePicker(),$(".popup-body form").ajaxForm({traditional:!0,success:async function(n,t,i){i.status!==200||n?closePopup():await onEditedDate()},error:function(){closePopup()}})):closePopup()}).fail(function(){closePopup()})})}async function onEditedDate(){closePopup();onSkillsPageEdited();regenerateHistoryChartFor(".answer-modal .history-chart-wrapper")}function loadHistoryCharts(){loadHistoryChart("div.history-chart-container[data-chart-url]")}function loadHistoryChart(n){$(n).each(function(n,t){$.get($(t).data("chart-url"),function(n,i,r){if(r.status===200)try{generateHistoryChartFor(n,"#"+$(t).attr("id"),500)}catch(u){$(t).removeClass("loading")}else $(t).removeClass("loading")})})}function saveScolFile(n,t){n.preventDefault();var i=$(t).parent(".btn");i.addClass("btn-loading disabled");$(t).closest("form").ajaxSubmit({traditional:!0,success:function(n,t,r){i.removeClass("btn-loading disabled");r.status===200?openSmallPopup("",n.message):onError(n,t,r)},error:function(n,t,r){i.removeClass("btn-loading disabled");onError(n,t,r)}})}function updateScolAnswers(n,t,i){hidePopover();$("#answers").fadeTo(100,0).css("display","none");$("#answers").parent().fadeTo(100,0,function(){$("#answers").html("");$("#answers").data("load-url",url_Reflection_UpdateAnswers+"?id="+n+"&position="+t);updateDots(n);loadAsync("#answers[data-load-url]");markItemSeenSelector(i)})}function updatePrintedScolAnswers(n){$("#answers").fadeTo(100,0,function(){$("#answers").html('<span class="loading"><\/span>');$("#answers").hide().html($("#history-"+n).html()).show();$("#answers").fadeTo(500,1);updateDots(n);loadScolCharts()})}function attemptDeleteScolResult(){openSmallPopup("Weet je het zeker?",'<div>Hiermee verwijder je <b>definitief<\/b> de geselecteerde test.<br /><br /><div class="text-center"><div id="cancelBtn" class="btn btn-default"  onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger btn-continue" onclick="deleteScolResult()">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div><\/div>')}function deleteScolResult(){$(".popup-body .btn-continue").addClass("btn-loading");var n=$(".group-selector li.selected").data("id"),t=$(".group-selector li.selected").data("position");$.post(url_Scol_DeleteScolResult+"?id="+n+"&position="+t,function(n,t,i){closePopup();i.status===200?reloadAnswers():onError(n,t,i)}).fail(function(n,t,i){closePopup();onError(n,t,i)})}function publishScol(n,t,i,r,u){n.preventDefault();var f=$(t).attr("href");openConfirm("Wil je de resultaten en opmerkingen publiceren?",'<div class="checkbox"><input type="checkbox" id="publishAnswers" checked="true"><label for="publishAnswers">Resultaten'+(r?" ("+r+")":"")+'<\/label><\/div><div class="checkbox"><input type="checkbox" id="publishComments" checked="true"><label for="publishComments">Opmerkingen'+(u?" ("+u+")":"")+"<\/label><\/div>","Annuleren","Publiceren",function(n){if(n){$(t).addClass("disabled");$(t).children("span").removeClass("far fa-eye");$(t).children("span").removeClass("fas fa-times");$(t).children("span").removeClass("bx bx-check");$(t).children("span").addClass("fas fa-spinner fa-spin");var r=$("#publishAnswers").prop("checked"),u=$("#publishComments").prop("checked");$.post(f,{publishAnswers:r,publishComments:u},function(n,f,e){$(t).addClass("disabled");$(t).children("span").removeClass("fas fa-spinner fa-spin");e.status===200?($(t).children("span").addClass("bx bx-check"),updateUnpublishedLabels(i,r,u,!1),updatePublishableSkills(i)):$(t).children("span").addClass("fas fa-times")}).fail(function(){$(t).removeClass("disabled");$(t).children("span").removeClass("fas fa-spinner fa-spin");$(t).children("span").addClass("fas fa-times")})}closePopup()})}function loadScolCharts(){$(".scol-chart-horizontal").each(function(n,t){try{var i=$(t).data("id"),r=JSON.parse($("#scolMax-"+i).attr("data-json")),u=$("#scolFunc-"+i).attr("data-json"),f=JSON.parse($("#scolData-"+i).attr("data-json")),e=JSON.parse($("#scolData2-"+i).attr("data-json")),o=c3.generate({bindto:"#horizontalChart-"+i,padding:{bottom:25},data:f,bar:{width:{max:50}},tooltip:{show:!1},color:{pattern:i.endsWith("-Student")?scolChartColors:chartColors},legend:{item:{onclick:function(){}}},axis:{x:{type:"category",tick:{multiline:!0}},y:{max:r,min:1,padding:{top:0,bottom:0},tick:{format:function(n){return new Function("d",u)(n)}}}},grid:{x:{show:!0},y:{show:!0}}}),s=c3.generate({bindto:"#verticalChart-"+i,padding:{bottom:25,right:50},data:f,tooltip:{show:!1},color:{pattern:i.endsWith("-Student")?scolChartColors:chartColors},axis:{rotated:!0,x:{type:"category",tick:{multiline:!0}},y:{max:r,min:1,padding:{top:0,bottom:0},tick:{format:function(n){return new Function("d",u)(n)}}}},grid:{x:{show:!0},y:{show:!0}}});setTimeout(function(){o.load(e);s.load(e)},300)}catch(h){log(h)}})}function submit(n,t,i,r,u){if(oldValue=$("#val-"+n).val(),oldValue!=i){var f=$("#AnswerOption-"+u+"-"+i).val();$.post(url_Skills_AddOrUpdateAnswer,{questionId:t,answerOptionId:f,studentId:r},function(t,r,u){u.status===200?($("#val-"+n).val(i),updateView(n,i),$("#img-"+n).hasClass("publishable")&&($("#img-"+n).addClass("uncompleted"),$(".publish-question-"+n).removeClass("invisible"),updatePublishableSkills())):$("#slider-"+n).val(oldValue)}).fail(function(){$("#slider-"+n).val(oldValue)})}}function updateView(n,t){$("#slider-"+n).val(t);$("#img-"+n).find(".answer-container").addClass("hidden");$("#img-"+n).find("#answer-"+t).removeClass("hidden")}async function reloadAnswerModal(){setTimeout(async function(){await reloadPopup(function(){initPage();updatePublishableSkills()})},500)}function onAnswerModalLoaded(){checkPosters();initTooltips()}function showPrintedAnswerModal(n,t,i,r){openLargePopup(r||$("#text-"+n).val(),$("#am-"+n).html(),function(){checkPosters();initTooltips()})}function showFileAnswerModal(n,t,i){openSmallPopupTarget($(t).attr("data-target"),initFileForm,i||"Bestand toevoegen")}function updateModalView(n){$(".popup-body").find(".answer-container").addClass("hidden");$(".popup-body").find("#answer-"+n).removeClass("hidden");$("#input").val(n)}function saveAnswerModal(n,t,i){var r=$("input#input").val(),u;(i||r!==$("#val-"+t).val())&&(u=$(".popup-body #AnswerOptionContinuous"+r).val(),$(".popup-body #loading").removeClass("no-show"),$.post(url_Skills_AddOrUpdateAnswer,{questionId:t,answerOptionId:u,studentId:n,forceRedo:i},function(i,f,e){var o,s;e.status===200&&(o=$(".popup-body .publish-question"),o&&o.length&&o.removeClass("hidden"),s=$(".popup-body .publishable"),s&&s.length&&($("td.tile-"+t+"-"+n).addClass("uncompleted-answer"),$(".block-"+t+"-"+n).addClass("uncompleted-answer"),updatePublishableSkills()),onSkillsPageEdited(),onSubmitAnswerModal(u,t,n),$("#val-"+t).val(r),$(".btn-redo").addClass("disabled"),$("#historyChart")&&$("#historyChart").length&&regenerateHistoryChartFor("#historyChart"),$(".btn-undo").removeClass("disabled"));$(".popup-body #loading").addClass("no-show")}).fail(function(){$(".popup-body #loading").addClass("no-show")}))}function onSubmitAnswerModal(n,t,i){updateTriangle(n,t,i);edits++}function updateTriangle(n,t,i){var f=$("#AnswerOptionPercent"+n).val()||"0",r=$("#AnswerOptionColor"+n).val()||"lightgray",e=$("#AnswerOptionTitle"+n).val()||"",u;$(".container-bar-progress-"+t+"-"+i+" i").attr("data-percent",f);$(".container-bar-progress-"+t+"-"+i+" .bar-progress").attr("style","width:"+f+"%;background:"+r+";border-color:"+r);$(".container-bar-progress-"+t+"-"+i+" i").attr("data-color",r);$(".container-bar-progress-"+t+"-"+i+" i").attr("style","color:"+r+";border-color:"+r);$(".container-bar-progress-"+t+"-"+i).tooltip("hide").attr("data-bs-original-title",e);u=$("#AnswerOptionColor"+n).val()||"transparent";$(".block-"+t+"-"+i).attr("fill",u);$(".class-tile-"+t+"-"+i).data("color",u);$(".circle-"+i).removeClass("radiobutton-filled");$(".circle-"+i+"-"+n).addClass("radiobutton-filled")}function approveFile(n,t,i,r,u){return n.preventDefault(),n.stopPropagation(),$(t).addClass("btn-loading disabled"),$.post(url_Skills_ApproveFile,{fileId:i,answerId:r,approved:u},function(n,t,r){r.status===200&&($("#thumb-"+i).remove(),$(".tooltip").tooltip("hide"),$(".tooltip.in").remove(),closePopup())}).always(function(){$(t).removeClass("disabled");$(t).removeClass("btn-loading")}),!0}function approveModalFile(n,t,i,r,u){n.preventDefault();n.stopPropagation();var f=$(t).children(".fa-stack-1x").attr("class");return $(t).children(".fa-stack-1x").attr("class","fas fa-spinner fa-spin fa-stack-1x"),$.post(url_Skills_ApproveFile,{fileId:i,answerId:r,approved:u},function(n,t,r){r.status===200&&(u?($("#thumb-"+i).removeClass("watermarked"),$("#thumb-"+i+" .file-approval-wrapper").remove()):$("#thumb-"+i).remove())}).always(function(){$(t).children(".fa-stack-1x").attr("class",f)}),!0}function clickSubAnswer(n,t,i){$.post(url_Skills_AddOrUpdateAnswer,{questionId:n,answerOptionId:t,studentId:i},function(i,r,u){u.status===200&&($("#QA-"+n).val(t),$(".circle-"+n+":not(.circle-"+n+"-"+t+")").removeClass("radiobutton-filled"),$(".circle-"+n+"-"+t).toggleClass("radiobutton-filled"))})}function updatePublishableSkills(){var n=$("td.uncompleted, td.uncompleted-comment, td.uncompleted-file, td.uncompleted-answer"),t=$("div.uncompleted, div.uncompleted-comment:not(.comment--111), div.uncompleted-file, div.uncompleted-answer"),i=n&&n.length||t&&t.length;$(".publish-all").each(function(n,t){$(t).find("span").attr("class",i?"far fa-eye":"bx bx-check");i?$(t).removeClass("disabled"):$(t).addClass("disabled")});$(".publish-group").each(function(n,t){var r=$(t).closest(".tab-pane").find("div.uncompleted"),i=$(t).attr("data-selector"),u=i&&i.length?$("."+i+".uncompleted"):null,f=r&&r.length||u&&u.length;$(t).find("span").attr("class",f?"far fa-eye":"bx bx-check");f?$(t).removeClass("disabled"):$(t).addClass("disabled")});initPublishAll()}function publishTests(n,t,i){n.preventDefault();openConfirm("Wil je de resultaten publiceren?","","Annuleren","Publiceren",function(r){r&&onSkillsPublish(n,t,i);closePopup()})}function publishMethodTests(n,t,i,r){n.preventDefault();openConfirm(r||"Wil je de resultaten en opmerkingen publiceren?",'<div class="checkbox"><input type="checkbox" id="publishAnswers" checked="true"><label for="publishAnswers">Resultaten<\/label><\/div><div class="checkbox"><input type="checkbox" id="publishComments" checked="true"><label for="publishComments">Opmerkingen<\/label><\/div>',"Annuleren","Publiceren",function(r){r&&onSkillsPublish(n,t,i);closePopup()})}function publishIep(n,t,i,r){n.preventDefault();openConfirm(r||"Wil je de resultaten en opmerkingen publiceren?",'<div class="checkbox"><input type="checkbox" id="publishAnswers" checked="true"><label for="publishAnswers">Resultaten<\/label><\/div><div class="checkbox"><input type="checkbox" id="publishFiles" checked="true"><label for="publishFiles">Bestanden<\/label><\/div>',"Annuleren","Publiceren",function(r){r&&onSkillsPublish(n,t,i);closePopup()})}function publishSkills(n,t,i,r){n.preventDefault();openConfirm(r||"Wil je de resultaten, opmerkingen en bestanden publiceren?",'<div class="checkbox"><input type="checkbox" id="publishAnswers" checked="true"><label for="publishAnswers">Resultaten<\/label><\/div><div class="checkbox"><input type="checkbox" id="publishComments" checked="true"><label for="publishComments">Opmerkingen<\/label><\/div><div class="checkbox"><input type="checkbox" id="publishFiles" checked="true"><label for="publishFiles">Bestanden<\/label><\/div>',"Annuleren","Publiceren",function(r){r&&onSkillsPublish(n,t,i);closePopup()})}function onSkillsPublish(n,t,i){var e=$(t).attr("href");$(t).addClass("btn-loading");$(t).children("span").removeClass("bx bx-send");$(t).children("span").removeClass("bx bx-x-circle");$(t).children("span").removeClass("bx bx-check");$(t).children("span").addClass("bx bx-loader-circle");var r=$("#publishAnswers").prop("checked"),u=$("#publishComments").prop("checked"),f=$("#publishFiles").prop("checked");$.post(e,{publishAnswers:r,publishComments:u,publishFiles:f},function(n,e,o){$(t).children("span").removeClass("bx bx-loader-circle");o.status===200?(updateUnpublishedLabels(i,r,u,f),$(t).children("span").addClass("bx bx-check")):$(t).children("span").addClass("bx bx-x-circle");$(t).removeClass("btn-loading");updatePublishableSkills(i)}).fail(function(){$(t).children("span").removeClass("bx bx-loader-circle");$(t).children("span").addClass("bx bx-x-circle");$(t).removeClass("btn-loading")})}function updateUnpublishedLabels(n,t,i,r){$(n).each(function(n,u){t&&$(u).removeClass("uncompleted-answer");i&&$(u).removeClass("uncompleted-comment");r&&$(u).removeClass("uncompleted-file");(t||!$(u).hasClass("uncompleted-answer"))&&(i||!$(u).hasClass("uncompleted-comment"))&&(r||!$(u).hasClass("uncompleted-file"))&&$(u).removeClass("uncompleted")})}function onModalFileDeleted(n,t){closePopup();onFileDeleted(n,t)}function onFileDeleted(n,t){$(".thumb-"+n+"-"+t).remove()}function deleteAnswer(n){openSmallPopup("Weet je het zeker?",'<div class="text-center"><div id="cancelBtn" class="btn btn-default"  onclick="cancel()">Behouden<\/div><div id="continueBtn" class="btn btn-danger"  onclick="continueDeleteAnswer('+n+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function continueDeleteAnswer(n){$.post(url_RemoveAnswer,{id:n},async function(t,i,r){r.status===200?($("#answer-"+n).remove(),closePopup(2),await reloadAnswerModal()):closePopup(1)})}function undoLastAnswer(n){openSmallPopup("Wil je het laatste antwoord ongedaan maken?",'<div class="text-center"><div id="cancelBtn" class="btn btn-default"  onclick="cancel()">Behouden<\/div><div id="continueBtn" class="btn btn-danger"  onclick="continueUndoLastAnswer(this, '+n+')">Ongedaan maken <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function continueUndoLastAnswer(n,t){$(n).addClass("btn-loading");$.post(url_UndoLastAnswer,{questionId:t},async function(n,t,i){closePopup(1);i.status===200&&($(".popup-body .answer-modal").addClass("disabled"),await reloadAnswerModal())})}function showFileModal(n,t,i,r){n.preventDefault();n.stopPropagation();var u=$(t).attr("data-target");openPopupTarget(u,function(){checkPoster($(".popup-body video"));checkPosters();r&&r.length&&markItemSeen(r)},i)}function onSchoolYearSelected(n){document.querySelectorAll(".container-blocks").forEach(n=>n.classList.add("hidden"));document.querySelectorAll(".schoolyear-table-"+n).forEach(n=>n.classList.remove("hidden"));document.querySelectorAll(".btn-horizontal-container .btn").forEach(n=>n.classList.remove("active"));document.querySelectorAll(".btn-horizontal-container .dot-"+n).forEach(n=>n.classList.add("active"));initTestCharts()}function toggleNextContainer(){$(".next-container").toggleClass("hidden")}function selectIcon(n,t,i){$("#ResourceFileId").val(i);$(".img-create-project").attr("src",$(t).attr("src"));$(".popup .project-active.block").attr("class","project-active block "+$(t).attr("class"));closePopup()}function onThumbLabelSelected(n,t,i){document.querySelectorAll(".container-filter > div").forEach(n=>n.classList.add("hidden"));document.querySelectorAll(".container-filter "+i).forEach(n=>n.classList.remove("hidden"));document.querySelectorAll(".btn-filter .btn").forEach(n=>n.classList.remove("active"));t.classList.add("active")}function onProjectSubmit(n,t){$(t).addClass("btn-loading");var i=$(t).parents("form:first"),r=0;$("#questionIds").html("");$("input.checkbox-question:checked").each(function(){$("#questionIds").append('<input name="questionIds['+r+']" value="'+$(this).data("id")+'" type="hidden"/>');r++});i.find("#Title").val()===""?showError("De titel is niet ingevuld."):i.find("#questionIds").html()===""?showError("Er zijn geen doelen geselecteerd."):i.ajaxSubmit({success:function(n,i,r){if($(t).removeClass("btn-loading"),r.status!==200||n&&n.status!=200)onError(n,i,r);else{try{var u=$("#SurveyId").val(),f=$("#Title").val(),e=$(".img-create-project:first").attr("src");$(".survey-title-"+u+" > span").each(function(n,t){t.innerText=f});$(".survey-img-"+u).each(function(n,t){t.setAttribute("src",e)});$("#component").addClass("reload-on-popstate")}catch(o){}reloadComponents();closePopup()}},error:function(n){showError(getCustomError(n.status));$(t).removeClass("btn-loading")}})}function finishProject(n,t){hidePopover();openSmallPopup("Weet je het zeker?",'<div class="text-center"><div id="cancelBtn" class="btn btn-default"  onclick="closePopup()">Annuleren<\/div><div id="continueBtn" class="btn btn-success"  onclick="onEditProject(event, this, \''+$(t).attr("href")+'\')">Afronden <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function deleteProject(n,t){hidePopover();openSmallPopup("Weet je het zeker?",'<div class="text-center"><div id="cancelBtn" class="btn btn-default"  onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger"  onclick="onEditProject(event, this, \''+$(t).attr("href")+'\')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function onEditProject(n,t,i){$(t).addClass("btn-loading");$.post(i,null,async function(n,i,r){r.status===200&&(closeAllPopups(),document.querySelector(".nav_link.active").click());$(t).removeClass("btn-loading")})}function onSearchFinished(){$(".popup .print-leerlijn-container").each(function(n,t){var i=$(t).find(".row:not(.hidden)");i.length==0?$(t).addClass("hidden"):$(t).removeClass("hidden")});$(".popup .survey-container > div").each(function(n,t){var i=$(t).find(".print-leerlijn-container:not(.hidden)");i.length==0?$(t).addClass("hidden"):$(t).removeClass("hidden")})}function selectQuestion(n,t){$(".question-picker .selected").removeClass("selected");$(".question-picker .active").removeClass("active");$("#question-"+t).addClass("selected");$("#selectedQuestionOrder").html($("#question-"+t).data("order"));$("#ClassOverviewAnswersPartial").fadeTo(100,0);var i=!1;setTimeout(function(){i||($("#ClassOverviewAnswersPartial").html('<span class="loading"><\/span>'),$("#ClassOverviewAnswersPartial").fadeTo(100,.3))},1e3);$("#ClassOverviewAnswersPartial").load(url_Skills_ClassOverviewAnswersPartial+"?surveyId="+n+"&questionId="+t,function(){i=!0;initTooltips();initPopover();$("#ClassOverviewAnswersPartial").fadeTo(500,1)});$(".question-selector-text").html($("#question-"+t).html());$("#SkillsContent").data("load-url",url_Skills_SurveyPartial+"?surveyId="+n+"&questionId="+t)}function redoOpenAnswer(n,t,i,r){var f=$("#SA-"+r).val(),u=f;$(t).attr("class","fas fa-spinner fa-spin");$.post(url_Skills_AddOrUpdateAnswer,{questionId:i,answerOptionId:u,studentId:r,forceRedo:!0},function(n,f,e){e.status===200?(onOpenAnswerSuccess(i,u,r),$(t).attr("class","bx bx-check")):$(t).attr("class","fas fa-times")})}function clickOpenAnswer(n,t,i){var r=$("#SA-"+i).val();r!==t.toString()&&$.post(url_Skills_AddOrUpdateAnswer,{questionId:n,answerOptionId:t,studentId:i},function(r,u,f){f.status===200&&onOpenAnswerSuccess(n,t,i)})}function onOpenAnswerSuccess(n,t,i){$("#SA-"+i).val(t);$(".circle-"+i).removeClass("radiobutton-filled");$(".circle-"+i+"-"+t).addClass("radiobutton-filled");$("td.block-"+n+"-"+i).addClass("uncompleted-answer");$(".btn-redo-"+n+"-"+i).addClass("disabled");var r=new Date,u="Vandaag "+r.getHours()+":"+("0"+r.getMinutes()).slice(-2);$(".date-info-"+i).html(u);onSubmitAnswerModal(t,n,i)}function clickGroupAnswer(n,t,i){openConfirm("Wil je alle antwoorden in een keer invullen?","","Niet invullen","Invullen",function(r){r&&$.post(url_Skills_AddOrUpdateStudentsAnswer,{questionId:n,answerOptionId:t,studentIds:i},function(r,u,f){f.status===200&&$.each(i,function(i,r){onOpenAnswerSuccess(n,t,r)})});closePopup()})}function openColumnMouseOver(n,t){$(".group-"+n).each(function(){$(this).data("column")<=t&&$(this).find("svg rect").attr("fill",$(this).data("max-color")||"transparent")})}function openColumnMouseOut(n){$(".group-"+n).each(function(){$(this).find("svg rect").attr("fill",$(this).data("color")||"transparent")})}function openRowMouseOver(n,t,i){$("#fastfill").hasClass("active")&&$(".group-"+n+"-"+t).each(function(){$(this).data("column")<=i&&$(this).find("svg rect").attr("fill",$(this).data("max-color")||"transparent")})}function openRowMouseOut(n,t){$("#fastfill").hasClass("active")&&$(".group-"+n+"-"+t).each(function(){$(this).find("svg rect").attr("fill",$(this).data("color")||"transparent")})}function columnTouchStart(n,t){column=t;timer=setTimeout(onLongTouch,500)}function columnTouchEnd(n,t){cancelTouch(n,t)}function cancelTouch(){timer&&(clearTimeout(timer),column=null)}function onLongTouch(){column&&eval($(column).data("onclick"))}function openColumnClick(n,t,i,r,u){event.detail==1&&$("#fastfill").hasClass("active")?(n.preventDefault(),$(u).each(function(n,t){$(".group-"+i+"-"+t).each(function(){$(this).data("column")<=r&&$(this).find("svg rect").attr("fill",$(this).data("max-color")||"transparent")})}),openConfirm("Wil je alle antwoorden in een keer invullen?","","Niet invullen","Invullen",function(n){if(n){$(t).find(".column-fastfill").removeClass("bx bx-pencil").addClass("fas fa-spinner fa-spin");var e=$(t).closest("table").data("surveyid"),f=[];$(u).each(function(n,t){$(".group-"+i+"-"+t).each(function(){$(this).data("column")<=r&&(f.push($(this).data("question")),$(this).find("svg rect").attr("fill",$(this).data("max-color")||"transparent"))})});$.post(url_Skills_FastFill,{surveyId:e,questionIds:unique(f),studentIds:u},function(n,f,e){$(t).find(".column-fastfill").removeClass("fas fa-spinner fa-spin");e.status===200?($(u).each(function(n,t){$(".group-"+i+"-"+t).each(function(){var n,i;$(this).data("column")<=r&&(n=$(this).data("max-color")||"transparent",$(this).addClass("uncompleted-answer"),$(this).data("color",n),i=$(this).data("question"),$(".block-"+i+"-"+t).attr("fill",n))})}),$(t).find(".column-fastfill").addClass("bx bx-check")):(openColumnMouseOut(i),$(t).find(".column-fastfill").addClass("fas fa-times"))})}else openColumnMouseOut(i);closePopup()})):event.detail==2&&eval($(t).data("onclick"))}function unique(n){var t=[];return $.each(n,function(n,i){$.inArray(i,t)===-1&&t.push(i)}),t}function initFileForm(){$(window).keydown(function(n){if(n.keyCode==13&&!$("textarea, input").is(":focus"))return n.preventDefault(),!1});$("#upload").change(function(){readFileUploadURL(this)})}function startFileLoading(){$(".error-text").addClass("hidden");$("#skillsUploadModal").addClass("hidden");$("#loadingModal").removeClass("hidden")}function endFileLoading(){$("#skillsUploadModal").removeClass("hidden");$("#loadingModal").addClass("hidden")}function readFileUploadURL(n){var i=$(n).closest(".upload-file-container").find(".uploadResult"),r,t,e,o,u,f;i.removeAttr("src");i.addClass("hidden");r=$(n).closest(".upload-file-container").find(".choosePicture");r.html('<span class="fas fa-spinner fa-spin"><\/span>');t=$(n).closest(".upload-file-container").find(".nopreview");t.addClass("hidden");e=$(n).closest(".upload-file-container").find(".gallerypreview");e.addClass("hidden");o=$(n).closest(".upload-file-container").find(".default-wrapper");o.addClass("hidden");n.files&&n.files[0]&&(n.files[0].size!=null&&n.files[0].size<maxFileSize?(n.files[0].type.indexOf("image")!=-1?(i.removeClass("hidden"),u=new FileReader,u.onload=function(n){i.attr("src",n.target.result);r.html("")},u.readAsDataURL(n.files[0])):(t.removeClass("hidden"),f=n.files[0].name.split(".").pop(),t.find("a").attr("class","preview "+f),t.find(".filename").html(n.files[0].name),t.find(".file-extension").html(""),n.files[0].type.indexOf("video")!==-1?t.find(".fas").attr("class","fas fa-play-circle"):n.files[0].type.indexOf("audio")!==-1?t.find(".fas").attr("class","fas fa-microphone"):(t.find(".fas").attr("class","fas fa-file"),t.find(".file-extension").html("."+f))),$(n).closest(".upload-file-container").find(".submitBtn").removeClass("disabled"),$(n).closest(".upload-file-container").find(".submitBtn").html('Opslaan <span class="fa fa-save"><\/span>')):(n.files[0]=null,showError(exceededFileSizeError)))}function addFileAnswer(){onAddFileAnswer(async function(){closePopup();var t=$('.popup input[name="category"]').val(),i=$(".popup select#StudentIds").val(),n=0;$(i).each(function(t,i){$('td[data-studentid="'+i+'"]')&&$('td[data-studentid="'+i+'"]').length&&n++});n>0&&updateDocumentPublishBtns(t,n)})}function addSkillFileAnswer(n,t){onAddFileAnswer(async function(){closePopup();$(".block-"+n+" .paperclip").removeClass("hidden");($(".block-"+n+"-"+t).hasClass("manual-publish")||$("td.tile-"+n+"-"+t).hasClass("manual-publish"))&&($("td.tile-"+n+"-"+t).addClass("uncompleted-file"),$(".block-"+n+"-"+t).addClass("uncompleted-file"));await reloadAnswerModal()})}function onAddFileAnswer(n){startFileLoading();$(".upload-file-container .doneBtn").html('Opslaan <i class="bx bx-loader-circle"><\/span>');$("#uploadForm").ajaxForm({traditional:!0,success:async function(t,i,r,u){r.status===200?(n&&await n(u),$(".upload-file-container .doneBtn").html('Opslaan <span class="bx bx-check"><\/span>')):(endFileLoading(),$(".upload-file-container .doneBtn").html('Opslaan <span class="bx bx-x"><\/span>'))},error:function(){endFileLoading();$(".upload-file-container .doneBtn").html('Opslaan <span class="bx bx-x"><\/span>')},uploadProgress:function(n,t,i,r){$(".upload-file-container .doneBtn").html("Uploaden..."+r+"%");r===100&&$(".upload-file-container .doneBtn").html('Opslaan <span class="bx bx-loader-circle"><\/span>')}}).submit()}function addSkillClassFileAnswer(n,t){var r=$(t).closest("form"),i=$(r).find(".doneBtn"),u=[];for(var f of r.get(0).querySelector(".file-student-selectpicker").options)f.selected&&u.push(f.value);if(u.length<=0){showError("Kies een leerling");return}r.ajaxForm({traditional:!0,success:async function(n,t,r,u){r.status===200?(i.html('Opslaan <span class="bx bx-check"><\/span>'),u.find("input#upload").val(""),u.find(".uploadResult").attr("src",""),u.find("textarea").val(""),u.find("select").val(""),$(".selectpicker").selectpicker("deselectAll"),$(".multiselectpicker").selectpicker("deselectAll"),loadClassFiles()):i.html('Opslaan <span class="bx bx-x"><\/span>')},error:function(){i.html('Opslaan <span class="bx bx-x"><\/span>')},uploadProgress:function(n,t,r,u){i.html("Uploaden..."+u+"%");u===100&&i.html('Opslaan <span class="bx bx-loader-circle"><\/span>')}}).submit()}function loadClassFiles(){$("#toggle-wrapper .class-file-area").html('<div class="loading"><\/div>');$("#toggle-wrapper .class-file-area").load($("#toggle-wrapper .class-file-area").attr("data-file-url"))}function showDevelopmentPointDetails(n,t,i){var r="Nieuw",u;t&&(r=$("#dev"+t).html());u=$(n).attr("data-target");openPopupTarget(u,function(){markItemSeen(i);checkPosters();initForm()},r)}function showPrintedDevelopmentPointDetails(n){var t="Nieuw";n!==-1&&(t=$("#dev"+n).html());openLargePopup(t,$("#dp-"+n).html())}function reloadDevelopmentPoints(){$("#DevelopmentPoints")&&$("#DevelopmentPoints").length?$("#DevelopmentPoints").load($("#DevelopmentPoints").attr("data-load-url")):reloadComponents()}function selectDevelopmentPointsSchoolYear(n,t,i){hidePopover();$(t).closest("ul").find("li").removeClass("active");$(t).addClass("active");$(".schoolyear-group").addClass("hidden");$("."+i).removeClass("hidden")}function updateDevelopmentView(n,t){$("#q-"+n).val(t);$("#img-"+n).find(".answer-container").addClass("hidden");$("#img-"+n).find("#answer-"+t).removeClass("hidden")}function onDevelopmentSubmit(n,t,i){var r,u;$(n).addClass("btn-loading");r=$(n).parents("form:first");$(".question-unanswered").removeClass("question-unanswered");r.find("div.textualAnswers").html("");$.each(t,function(n){var i=t[n],u;r.find(".q-"+i).is("input:file")||(u=r.find(".q-"+i).is("input")?$("#AnswerOption-"+i+"-"+$("#q-"+i).val()).val():r.find(".q-"+i).val());r.find("div.textualAnswers").append('<input name="textualAnswers['+n+'].Key" type="hidden" value="'+i+'"/>');r.find("div.textualAnswers").append('<input name="textualAnswers['+n+'].Value" type="hidden" value="'+((!u||0===u.length)?"":u.replace(/"/g,"&quot;"))+'"/>')});u=0;$(r.find('input[type="file"]')).each(function(n,t){$(t).get(0).files.length==0?($(t).attr("name",""),$(t).prev("input").attr("name","")):($(t).attr("name","fileAnswers["+u+"].value"),$(t).prev("input").attr("name","fileAnswers["+u+"].key"),u++)});r.find(".selected-talents").first()&&r.find(".selected-talents").first().html()===""?showError("Er is geen talent geselecteerd."):r.ajaxSubmit({dataType:"json",traditional:!0,context:r,success:function(t,r,u){$(n).removeClass("btn-loading");$("#management").removeClass("disabled");u.status!==200||t&&t.status!=200?t&&t.questionIds?($(t.questionIds).each(function(n,t){$(".question-block-"+t).addClass("question-unanswered")}),showError(t.message)):onError(t,r,u):i?i(!0):closeAllPopups()},error:function(t){showError(getCustomError(t.status));$(n).removeClass("btn-loading");$("#management").removeClass("disabled")}})}function attemptDeleteDevSurveyAnswerGroupWithId(n){openSmallPopup("Weet je het zeker?",'<div>Hiermee verwijder je <b>definitief<\/b> de geselecteerde afname.<\/b><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger" onclick="deleteDevSurveyAnswerGroup('+n+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div><\/div>')}function deleteDevSurveyAnswerGroup(n){$(".popup-body").addClass("disabled");$("#continueBtn").addClass("btn-loading");$.post(url_Reflection_DeleteSurveyAnswerGroup+"?surveyAnswerGroupId="+n,function(t,i,r){$(".popup-body").removeClass("disabled");$("#continueBtn").removeClass("btn-loading");r.status===200&&$(".development-point-"+n).remove();closeAllPopups()}).fail(function(){$(".popup-body").removeClass("disabled");$("#continueBtn").removeClass("btn-loading");closeAllPopups()})}function hideTalent(n){$(".popup-body .talent-container").length>1?(n?($(n).parents(".talent-container:first").remove(),$(".popup-body .talent-container").last().addClass("last"),$(".popup-body .talent-container").length===1&&$(".popup-body .talent-container").last().removeClass("loading-container")):($(".popup-body .talent-container").last().remove(),$(".popup-body .talent-container").last().removeClass("loading-container"),$(".popup-body .talent-container").removeClass("last")),countTalents()):hideTalentModal(!0)}function toggleTalent(n){var t=$(n).parents(".talent-container:first");t.hasClass("loading-container")?(t.removeClass("loading-container"),$(n).removeClass("bx bxs-chevron-down"),$(n).addClass("bx bxs-chevron-up")):(t.addClass("loading-container"),$(n).removeClass("bx bxs-chevron-up"),$(n).addClass("bx bxs-chevron-down"))}function talentSuccess(n){var t,i;n&&(n.addClass("succeeded"),t=n.parents(".talent-container:first"),t.find(".toggle span").remove(),i=t.find(".loading-text"),i.html('Opgeslagen <span class="bx bx-check"><\/span>'));$(".talent-form:not(.succeeded)").length==0&&hideTalentModal()}function talentFail(n,t){if(n){var i=n.parents(".talent-container:first").find(".loading-text");i&&i.length?(i.removeClass("text-info"),i.addClass("text-danger"),i.html("Opslaan mislukt: "+t+' <span class="fa fa-times"><\/span>')):showError(t)}else showError(n,t);endTalentLoading(n)}function addTalentItem(n,t,i){$.post(url_Talent_AddTalent+"?title="+n+"&optionGroupId="+t+"&position="+i,function(t,i,r){r.status===200&&$("form .selectpicker.addable").each(function(i,r){$(r).append('<option value="'+t+'">'+n+"<\/option>");$(r).val(t);$(r).selectpicker("refresh")})})}function initForm(){if($(".popup-body .talent-container").removeClass("last"),$(".popup-body .talent-container").last().addClass("last"),countTalents(),$("form .selectpicker")&&$("form .selectpicker").length){var n=$("form .selectpicker.addable")&&$("form .selectpicker.addable").length?"Voeg toe: {0}":"{0} niet gevonden";$("form .selectpicker").selectpicker({maxOptions:1e4,noneSelectedText:"Niets geselecteerd",liveSearch:!0,selectAllText:"Alles selecteren",deselectAllText:"Alles deselecteren",noneResultsText:n})}$("select.multiselectpicker")&&$("select.multiselectpicker").length&&$("select.multiselectpicker").selectpicker({maxOptions:1e4,noneSelectedText:"Niets geselecteerd",liveSearch:!0,selectAllText:"Alles selecteren",deselectAllText:"Alles deselecteren",noneResultsText:"{0} niet gevonden"});$("select.one-click").on("change",function(){$(".bs-searchbox .form-control").blur();$(document).click()})}function startTalentLoading(n){n?($(n).find(".btn-submit").addClass("btn-loading"),$(n).parents(".talent-container:first").find(".loading-text").removeClass("text-danger"),$(n).parents(".talent-container:first").find(".loading-text").addClass("text-info")):($(".loading-text").removeClass("text-danger"),$(".loading-text").addClass("text-info"));var t=$(".popup-body .talent-container");t.addClass("loading-container");t.addClass("uploading-container");t.removeClass("uploaded-container");$(".btn-extra").addClass("disabled");$(".btn-done").addClass("disabled");$(".btn-done").addClass("btn-loading")}function endTalentLoading(n){var t=$(".popup-body .talent-container"),i;n&&t.length===1?($(n).find(".btn-submit").removeClass("btn-loading"),i=$(n).parents(".talent-container:first"),i.removeClass("loading-container"),i.removeClass("uploading-container"),i.addClass("uploaded-container")):n||(t.removeClass("loading-container"),t.removeClass("uploading-container"),$(".popup-body .talent-container uploading-container").length>1&&t.addClass("uploaded-container"));$(".popup-body .talent-container uploading-container").length<=0&&($(".btn-extra").removeClass("disabled"),$(".btn-done").removeClass("disabled"),$(".btn-done").removeClass("btn-loading"))}function readModalURL(n){var t=$(n).closest(".file-container").find(".uploadResult"),r,i,u,f,e;t.html("");t.addClass("hidden");r=$(n).closest(".file-container").find(".img.file-preview-1");i=$(n).closest(".file-container").find(".choosePicture");i.html('<span class="fas fa-spinner fa-spin"><\/span>');u=$(n).closest(".file-container").find(".default-wrapper");u.addClass("hidden");f=$(n).closest(".file-container").find(".gallerypreview");f.addClass("hidden");e=$(n).closest(".file-container").find(".file-preview-wrapper-container");n.files&&n.files[0]&&(t.removeClass("hidden"),e.addClass("hidden"),r.addClass("hidden"),$(n.files).each(function(r,u){var e,o,f,s;u.size!==null&&u.size<maxFileSize?(e=n.files.length>1?n.files.length>2?"right:"+(r==0?"0%":r/n.files.length*100+"%"):"right:"+(r==0?"20%":"40%"):"",u.type.indexOf("image")!==-1?n.files.length<=1?(t.append('<img class="bg-img img-result" />'),t.append('<img class="fg-img main img-result" />'),f=new FileReader,f.onload=function(n){$(t).find(".img-result").attr("src",n.target.result);i.html("")},f.readAsDataURL(u)):(o=document.createElement("img"),o.setAttribute("class","preview"),o.setAttribute("style",e),t.append(o),f=new FileReader,f.onload=function(n){o.setAttribute("src",n.target.result);i.html("")},f.readAsDataURL(u)):(s=u.name.split(".").pop(),u.type.indexOf("video")!==-1?t.append('<a class="preview '+s+'" style="'+e+'">    <span class="fas fa-play-circle">        <i class="file-extension"><\/i>    <\/span>    <div class="filename">'+u.name+"<\/div><\/a>"):u.type.indexOf("audio")!==-1?t.append('<a class="preview '+s+'" style="'+e+'">    <span class="fas fa-microphone">        <i class="file-extension"><\/i>    <\/span>    <div class="filename">'+u.name+"<\/div><\/a>"):t.append('<a class="preview '+s+'" style="'+e+'">    <span class="fas fa-file">        <i class="file-extension"><\/i>    <\/span>    <div class="filename">'+u.name+"<\/div><\/a>"),i.html(""))):(u=null,showError(exceededFileSizeError))}))}function onSubmit(n,t,i){var r=$(n).parents("form:first"),u;startTalentLoading(r);$(".question-unanswered").removeClass("question-unanswered");u=!0;r.find("div.textualAnswers").html("");$.each(t,function(n){var u=t[n],i=r.find(".q-"+u).val();r.find("div.textualAnswers").append('<input name="textualAnswers['+n+'].Key" type="hidden" value="'+u+'"/>');r.find("div.textualAnswers").append('<input name="textualAnswers['+n+'].Value" type="hidden" value="'+((!i||0===i.length)?"":i.replace(/"/g,"&quot;"))+'"/>')});r.find(".selected-talents").first()&&r.find(".selected-talents").first().html()===""?talentFail(r,"Er is geen talent geselecteerd."):u?submitForm(r,i):talentFail(r,"Niet alle verplichte vragen zijn beantwoord.")}function submitForm(n,t){var i=$(n);i.parents(".talent-container:first").find(".loading-text").html("Uploaden...0%");i.ajaxSubmit({dataType:"json",traditional:!0,context:i,success:function(i,r,u){u.status!==200||i&&i.status!=200?i&&i.questionIds?($(i.questionIds).each(function(n,t){$(".question-block-"+t).addClass("question-unanswered")}),talentFail($(n),i.message)):talentFail($(n),getCustomError(u.status)):t?(t(i,r,u),onTalentUpdated($(this),i,r,u)):onTalentUploadSucceeded($(this),i,r,u)},error:function(n){talentFail($(this),getCustomError(n.status))},uploadProgress:function(n,t,r,u){i.parents(".talent-container:first").find(".loading-text").html("Uploaden..."+u+"%");u===100&&i.parents(".talent-container:first").find(".loading-text").html('Bestand wordt verwerkt... <span class="fas fa-spinner fa-spin"><\/span>')}})}function approve(n,t){$.post(url_home_approvesurvey,{surveyAnswerGroupId:n,approved:t},function(t,i,r){hideTalentModal(!0);r.status===200&&($("#talent-"+n).length?$("#talent-"+n).remove():updateTalentContent());endTalentLoading();$(".btn").removeClass("btn-loading")}).fail(endTalentLoading)}function countTalents(){$(".popup-body .talent-container").length>1?($(".popup-body").removeClass("single"),$(".popup-body .talent-container").last().addClass("last")):$(".popup-body").addClass("single")}function moreTalents(n,t){$(".btn-extra").html('Extra bestand <span class="fas fa-spinner fa-spin"><\/span>');$(".popup-body .talent-container").removeClass("last");$(".popup-body .talent-container").last().addClass("last");$(".popup-body .talent-container").addClass("loading-container");var i=document.createElement("div");$(i).html('<div style="text-align:center">Laden... <span class="fas fa-spinner fa-spin"><\/span><\/div>');$(".popup-body").append(i);$(i).load($(t).attr("data-target"),function(){initForm();countTalents();$(".btn-extra").html('Extra bestand <span class="fas fa-plus"><\/span>')})}function onSubmitAll(){$('form.talent-form:not(".succeeded")').length>0?$('form.talent-form:not(".succeeded")').find(".btn-submit").click():hideTalentModal()}function hideTalentModal(n){(autoClose||n)&&closePopup()}function onTalentUploadSucceeded(n,t){talentSuccess($(n));$(".info-text").remove();$("#img-template")&&$("#img-template").length&&t.result&&$(t.result).each(function(t,i){var r=$("#img-template").html().replace(/@fileId/g,i.fileIds[0]).replace(/@groupId/g,i.surveyAnswerGroupId);$(n).find(".btn-yellow:first")&&$(n).find(".btn-yellow:first").length&&$(n).find(".btn-yellow:first").hasClass("active")&&(r=r.replace(/img-sm/g,"img-lg"));$(".container-img").prepend(r);$(".file-"+i.fileIds[0]).load(url_FileThumb.replace("-1",i.fileIds[0]),function(){masonryReload();i.fileIds.length>1&&setTimeout(function(){var n='<div class="img-more">';i.fileIds.slice(1).forEach(function(t){n+='<div class="file-'+t+'"><\/div>'});n+="<\/div>";$(".file-"+i.fileIds[0]).append(n);i.fileIds.slice(1).forEach(function(n){$(".file-"+n).load(url_FileThumb.replace("-1",n))})},1e3)})});$('form.talent-form:not(".succeeded")').length===0&&$(".popup-body .management").addClass("hidden")}function onTalentUpdated(n,t){try{$(t.result).each(function(t,i){$("#talent-wrapper-"+i.surveyAnswerGroupId).find(".inner").html($(n).find(".filter-option-inner-inner").html())})}catch(i){}}function showTalentModal(n,t,i,r,u){n.preventDefault();openPopupTarget($(t).attr("data-target"),function(){checkPoster($(".popup-body video"));checkPosters();u&&markItemSeen(u);initForm();initPopover();textAreaAdjust()},r)}function showPrintedTalentModal(n,t,i,r){n.preventDefault();openLargePopup(r||" ",$("#talent-"+i).html())}function addTalent(n,t){showTalentModal(n,t,null," ")}function showTalent(n,t){var i=$("#selectedSurveyAnswerGroup").val();showTalentModal(n,t,i," ","unseen-group-"+i)}function showPrintedTalent(n){n.preventDefault();var t=$("#selectedSurveyAnswerGroup").val();showPrintedTalentModal(n,t)}function attemptDeleteSurveyAnswerGroupWithId(n,t,i){n.preventDefault();n.stopPropagation();openSmallPopup("Weet je het zeker?",'<div>Hiermee verwijder je <b>definitief<\/b> het geselecteerde talent.<\/br><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger" onclick="deleteSurveyAnswerGroup('+i+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')+"<\/div>"}function deleteSurveyAnswerGroup(n){$(".popup-body").addClass("disabled");$("#continueBtn").addClass("btn-loading");$.post(url_Reflection_DeleteSurveyAnswerGroup+"?surveyAnswerGroupId="+n,function(t,i,r){$(".popup-body").removeClass("disabled");$("#continueBtn").removeClass("btn-loading");r.status===200&&($(".talent-block-"+n).remove(),masonryReload(),closeAllPopups());closePopup()}).fail(function(){$(".popup-body").removeClass("disabled");$("#continueBtn").removeClass("btn-loading");closePopup()})}function setStatus(n,t,i,r,u){n.preventDefault();n.stopPropagation();$.post(url_Talent_SetStatus+"?surveyAnswerGroupId="+i+"&status="+r,function(n,t,i){i.status===200?u():onError()}).fail(onError)}function onLabelSelected(n,t,i){document.querySelectorAll(".container-filter > div").forEach(n=>n.classList.add("hidden"));document.querySelectorAll(".container-filter "+i).forEach(n=>n.classList.remove("hidden"));document.querySelectorAll(".btn-filter .btn").forEach(n=>n.classList.remove("active"));t.classList.add("active");masonryReload()}function masonryReload(){masonryGrid&&(masonryGrid.destroy(),initMasonry())}function shareFile(n,t,i){n.preventDefault();var r=!$(t).hasClass("active");$.post(url_Talent_ShareFile,{fileId:i,shared:r},function(n,u,f){f.status===200&&($(t).toggleClass("active",r),r?($(".file-"+i).addClass("img-lg"),$(".file-"+i).removeClass("img-sm")):($(".file-"+i).addClass("img-sm"),$(".file-"+i).removeClass("img-lg")),setTimeout(masonryReload,500));hidePopover()}).fail(function(){hidePopover()})}function shareNewFile(n,t){var i=!$(n).hasClass("active");$(t).val(i);$(n).toggleClass("active",i)}function loadDocumentsDropzone(){$(".documents .dropzone").each(function(n,t){$(t).dropzone({acceptedFiles:acceptedImageFiles,init:function(){this.on("success",function(n){var r;$(this.element).addClass("uncompleted");var t=new Date,u="Vandaag "+t.getHours()+":"+("0"+t.getMinutes()).slice(-2),i=$(this.element).data("info-id");$(i).html("<b>"+u+"<\/b>: "+n.name);$(i).removeClass("invisible");r=$(this.element).data("category");updateDocumentPublishBtns(r,1);initPublishAll()})}})})}function updateDocumentPublishBtns(n,t){$(".publish-all, .publish-"+n).each(function(n,i){var r=parseInt($(i).attr("data-count"));r+=t;$(i).attr("data-count",r);$(i).hasClass("publish-all")?($(i).html('Alles publiceren <b><\/b> <span class="far fa-eye"><\/span>'),$(i).find("b").html("("+r+")")):($(i).html('Publiceren <b><\/b> <span class="far fa-eye"><\/span>'),$(i).closest(".publishable-result").find("b").html("("+r+")"),$(i).closest(".publishable-result").addClass("uncompleted"));$(i).removeClass("disabled")})}function createFileModal(n,t){n.preventDefault();openPopupTarget($(t).attr("href"),function(){initSelect();initFileForm()})}function onFileUploaded(){$("#loading-text").html("Het bestand is opgeslagen <i class='bx bx-check'><\/i>")}function addDocumentFile(){openPopupTarget("#upload-document",function(){initSelect();initFileForm()})}function uploadDocumentFile(n,t){$(t).addClass("btn-loading");$(t).closest("form").ajaxSubmit({uploadProgress:function(n,i,r,u){$(t).html("Opslaan "+u+"%");u>=100&&$(t).html('Opslaan <i class="fas fa-spinner fa-spin"><\/i>')},success:function(n,i,r){setTimeout(function(){r.status===200&&r.responseJSON?($(t).html('Opslaan <i class="fas fa-check"><\/i>'),location.reload()):$(t).html('Opslaan <i class="fas fa-times"><\/i>');$(t).removeClass("btn-loading")},500)},error:function(){setTimeout(function(){$(t).html('Opslaan <i class="fas fa-times"><\/i>');$(t).removeClass("btn-loading")},500)}})}function attemptDeleteDocument(n,t){$("#file-"+n).hasClass("shared")?attemptDeleteOrUnlinkDocumentModal(n,t):attemptDeleteDocumentModal(n,t)}function attemptDeleteOrUnlinkDocumentModal(n,t){openSmallPopup("Let op",'Het geselecteerde bestand is aan meerdere kinderen gekoppeld.<br/><br/><div class="text-center"><div class="btn btn-danger" onclick="unlinkDocument(this, '+n+", "+t+')">Loskoppelen voor dit kind  <i class="fas fa-spinner fa-spin"><\/i><\/div><div class="btn btn-danger btn-continue"  onclick="deleteDocument(this, '+n+", "+t+')">Verwijderen voor iedereen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function attemptDeleteDocumentModal(n,t){openSmallPopup("Weet je het zeker?",'Wil je het geselecteerde bestand verwijderen?<br/><br/><div class="text-center"><div id="cancelBtn" class="btn btn-default" onclick="closePopup()">Behouden<\/div><div id="continueBtn" class="btn btn-danger btn-continue" onclick="deleteDocument(this, '+n+", "+t+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function deleteDocument(n,t,i){doDocumentPost(n,url_DeleteFile,t,i)}function unlinkDocument(n,t,i){doDocumentPost(n,url_UnlinkFile,t,i)}function doDocumentPost(n,t,i,r){$(n).addClass("btn-loading");$.post(t,{fileId:i,categoryId:r},function(t,r,u){u.status===200?(closePopup(),$("#file-"+i).remove()):$(n).removeClass("btn-loading")}).fail(function(){$(n).removeClass("btn-loading")})}function publishFile(n,t,i){n.preventDefault();var r=$(t).attr("href");openConfirm("Wil je de documenten publiceren?","","Annuleren","Publiceren",function(n){n&&($(t).addClass("disabled"),$(t).children("span").removeClass("far fa-eye"),$(t).children("span").removeClass("fas fa-times"),$(t).children("span").removeClass("bx bx-check"),$(t).children("span").addClass("fas fa-spinner fa-spin"),$.post(r,function(n,r,u){$(t).children("span").removeClass("fas fa-spinner fa-spin");u.status===200?($(i).removeClass("uncompleted"),updatePublishableFiles(t)):$(t).children("span").addClass("fas fa-times")}).fail(function(){$(t).removeClass("disabled");$(t).children("span").removeClass("fas fa-spinner fa-spin");$(t).children("span").addClass("fas fa-times")}));closePopup()})}function updatePublishableFiles(n){var i='Alles publiceren <span class="bx bx-check"><\/span>',r='Publiceren <span class="bx bx-check"><\/span>',u,t;if($(n).hasClass("publish-all"))$(n).html(i),$(".publish-category").each(function(n,t){$(t).addClass("disabled");$(t).attr("data-count",0);$(t).html(r)});else{try{u=parseInt($(n).attr("data-count"));t=parseInt($("#publishAll").attr("data-count"));t-=u;$("#publishAll").html("Alles publiceren <b>("+t+')<\/b> <span class="far fa-eye"><\/span>');$("#publishAll").attr("data-count",t);t<=0&&($("#publishAll").html(i),$("#publishAll").addClass("disabled"))}catch(f){}$(n).html(r)}$(n).children("span").addClass("bx bx-check");$(n).addClass("disabled");$(n).attr("data-count",0);$(".unpublished").remove();$(".nav-dot-wrapper").each(function(n,t){$(t).attr("data-bs-original-title",$(t).attr("data-bs-original-title").replace("<br/>NIET GEPUBLICEERD",""))});initPublishAll()}function attemptDeleteFile(n,t,i,r,u,f){n.preventDefault();n.stopPropagation();openConfirm("Weet je het zeker?","Hiermee verwijder je <b>permanent<\/b> het geselecteerde bestand.","Annuleren","Verwijderen",function(n){n&&($(".btn-continue").addClass("btn-loading"),$.post(url_Skills_DeleteFile,{fileId:t,answerId:i,categoryId:r},function(n,t,i){$(".btn-continue").removeClass("btn-loading");i.status===200&&closePopup();f&&eval(f)}));closePopup()},null,"btn-danger")}function showEditor(n,t){n.preventDefault();var i=$(t).attr("data-target");openPopupTarget(i,function(){initDateTimePicker();initSelect()})}function submitStudentReportForm(n,t){n.preventDefault();$(t).closest("form").ajaxSubmit({beforeSubmit:function(){$(t).addClass("btn-loading");$(t).html('Opslaan <i class="fas fa-spinner fa-spin"><\/i>')},success:function(n,i,r){n&&n.statusText?(onError(n,i,r),$(t).html('Opslaan <i class="fas fa-times"><\/i>')):r.status===200?(closePopup(),reloadAnswers(),$(t).html('Opslaan <i class="fas fa-check"><\/i>')):(onError(n,i,r),$(t).html('Opslaan <i class="fas fa-times"><\/i>'));$(t).removeClass("btn-loading")},error:function(){onError(data,status,xhr);$(t).html('Opslaan <i class="fas fa-times"><\/i>')}})}function onDeletePrint(n,t){n.preventDefault();openConfirm("Weet je het zeker?","","Annuleren","Verwijderen",function(n){if(n){var i=$(t).attr("data-target");$.post(i,function(n,i,r){r.status===200?$($(t).attr("data-row")).remove():onError(n,i,r)}).fail(onError)}closePopup()},null,"btn-danger")}function openReport(n,t,i,r){isApp()&&animateForward();markItemSeenAndGoTo(n,t,i,r)}function onCommentInput(n,t){t.value.length?$(t).closest(".text-100").find(".btn-comment-save").addClass("btn btn-success"):$(t).closest(".text-100").find(".btn-comment-save").removeClass("btn btn-success")}function saveComment(n,t,i,r,u,f,e,o,s,h,c,l,a){var nt="",b="",k,d,y,p,v,tt,it,g,w;if(h&&(r=null,u=null,y=n.closest(".comments-container").querySelector(".question-selectpicker"),v=y.options[y.selectedIndex],v.classList.contains("question")?(r=v.value,nt=v.text,b=v.getAttribute("data-group-text")):v.classList.contains("group")&&(u=v.value,b=v.text)),k="",d=null,c&&(y=n.closest(".comments-container").querySelector(".testgroup-selectpicker"),v=y.options[y.selectedIndex],d=v.value,k=v.text),p=[],l){for(v of n.closest(".comments-container").querySelector(".student-selectpicker").options)v.selected&&p.push(v.value);if(p.length<=0){showError("Kies een leerling");return}}else p.push(o);tt=$(n).closest("td")&&$(n).closest("td").length;it=$(n).closest(".popover")&&$(n).closest(".popover").length;it||hidePopover();g=$(n).closest(".text-100").find("textarea");w=g.val();w.length>0&&($(n).closest(".btn-comment-save").addClass("disabled"),$(n).find("i").attr("prev-class",$(n).find("i").attr("class")),$(n).find("i").attr("class","bx bx-loader-circle"),$.post(url_AddComment,{position:t,menu:i,surveyId:f,studentIds:p,questionGroupId:u,subjectId:e,publish:s,questionId:r,testGroupKey:d,comment:w},function(t,i,u){u.status===200&&(Object.keys(t).forEach(function(i){var u=i,f=t[i],e=$(n).closest(".comments-container").find(".comment--111")[0].outerHTML.replace("@comment",htmlEncode(w)).replace(/-111/g,f).replace("@group",htmlEncode(b)).replace("@question",htmlEncode(nt)).replace("@testgroup",htmlEncode(k)).replace("@student-name",htmlEncode($(".student"+u).attr("alt"))).replace('data-src="@student-profile"','src="'+htmlEncode($(".student"+u).attr("src"))+'"').replace("@student-profile",htmlEncode($(".student"+u).attr("src")));l?$(a||".comments-container").each(function(n,t){$(t).find(".comments-list").prepend(e)}):$(a||".comments-container-"+u).each(function(n,t){$(t).find(".comments-list").prepend(e)});s?$(".comment-"+f).removeClass("uncompleted-comment"):($(".publish-question").removeClass("hidden"),$("td.tile-"+r+"-"+u).addClass("uncompleted-comment"),$(".block-"+r+"-"+u).addClass("uncompleted-comment"));tt&&(recreatePopover('td *[data-bs-toggle="popover"]'),$(".comments-container-"+u).parent().addClass("saved"))}),$(".block-"+r+" .paperclip").removeClass("hidden"),initTooltips(),g.val(""),onSkillsPageEdited(),textAreaAdjust(!0),s||updatePublishableSkills())}).always(function(){$(n).closest(".btn-comment-save").removeClass("disabled");$(n).find("i").attr("class",$(n).find("i").attr("prev-class"));$(n).closest(".btn-comment-save").removeClass("btn btn-success")}))}function updateComment(n,t,i){var r=$(t).closest(".text-100").find(".input"+i).val();r.length>0&&($(".input"+i).addClass("disabled loading"),$.post(url_UpdateComment,{commentId:i,comment:r},function(n,t,u){u.status===200&&($(".input"+i).val(r),blurInput(i));$(".input"+i).removeClass("disabled loading")}))}function removeComment(n,t,i){openSmallPopup("Weet je het zeker?",'<div class="text-center"><div id="cancelBtn" class="btn btn-default" onclick="cancel()">Behouden<\/div><div id="continueBtn" class="btn btn-danger" onclick="continueRemoveComment('+n+", "+t+","+i+')">Verwijderen <i class="fas fa-spinner fa-spin"><\/i><\/div><\/div>')}function continueRemoveComment(n){$.post(url_RemoveComment,{commentId:n},function(t,i,r){r.status===200&&$(".comment-"+n).remove();closePopup()})}function showComment(n,t,i,r){$.post(url_ShowComment,{commentIds:[n]},function(i,u,f){f.status===200&&($(".tooltip").hide(),$(".show-"+n).remove(),$(".comment-"+n).removeClass("uncompleted-comment"),$("td.tile-"+t+"-"+r+", .block-"+t+"-"+r).removeClass("uncompleted-comment"),updatePublishableSkills())})}function showComments(n,t){t.classList.add("disabled");t.innerHTML='Selectie publiceren <i class="bx bx-loader-circle"><\/i>';var i=[],r=[];$(".popup-body input.checkbox").each(function(n,t){$(t).prop("checked")&&(i[$(t).data("comment-id")]=$(t).data("question-id"),r[$(t).data("comment-id")]=$(t).data("question-group-id"))});Object.keys(i).length&&$.post(url_ShowComment,{commentIds:Object.keys(i)},function(n,r,u){u.status===200?($(Object.keys(i)).each(function(n,t){$(".tooltip").hide();$(".show-"+t).remove();$(".checkbox-"+t).remove();$(".comment-"+t).removeClass("uncompleted")}),t.classList.remove("disabled"),t.innerHTML='Selectie publiceren <i class="bx bx-check"><\/i>'):(t.classList.remove("disabled"),t.innerHTML='Selectie publiceren <i class="bx bx-x"><\/i>')}).fail(function(){t.classList.remove("disabled");t.innerHTML='Selectie publiceren <i class="bx bx-x"><\/i>'})}function onPublishComments(n,t){n.preventDefault();hidePopover();var i=$(t).attr("href");openPopupTarget(i,function(){initTooltips()},"Opmerkingen publiceren...")}function focusInput(n,t,i){$(t).closest(".text-100").find("textarea").focus();onFocusInput(i)}function onFocusInput(n){$(".save").addClass("hidden");$(".save"+n).removeClass("hidden")}function onBlurInput(n){$(".save"+n).click()}function blurInput(n){$(".save"+n).addClass("hidden")}function initTestCharts(){Chart.defaults.global.defaultFontColor=chartFontColor;document.querySelectorAll(".test-chart").forEach(n=>{var r=n.getContext("2d"),u=JSON.parse(n.getAttribute("data-y-ticks")),f=JSON.parse(n.getAttribute("data-y-ticknames")),e=JSON.parse(n.getAttribute("data-labels")),o=JSON.parse(n.getAttribute("data-sets")),t=JSON.parse(n.getAttribute("data-min")),i=JSON.parse(n.getAttribute("data-max")),s={type:"line",data:{labels:e,datasets:o},options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,spanGaps:!1,elements:{line:{tension:1e-6}},plugins:{filler:{propagate:!1}},scales:{xAxes:[{ticks:{autoSkip:!1},gridLines:{color:gridLineColor}}],yAxes:[{ticks:{min:t,max:i},gridLines:{color:gridLineColor}},{position:"right",ticks:{autoSkip:!1,min:t,max:i,callback:function(n,t){return f[t]}},afterBuildTicks:function(n){n.ticks=u;return},beforeUpdate:function(){return},gridLines:{display:!1}}]}}},h=new Chart(r,s)});document.querySelectorAll(".lib-chart").forEach(n=>{regeneratePrintedHistoryChartFor("#"+n.getAttribute("id"))})}function hideResult(n,t,i){n.preventDefault();$(t).attr("class","bx bx-loader-circle");$.post($(t).attr("href"),function(n,r,u){u.status===200?i?($(t).closest("tr").addClass("opaque"),$(t).attr("class","bx bx-trash")):($(t).closest("tr").removeClass("opaque"),$(t).attr("class","bx bx-rotate-left")):$(t).attr("class","bx bx-x")}).fail(function(){$(t).attr("class","bx bx-x")})}function deleteMethodTestResult(n,t){n.preventDefault();openConfirm("Weet je het zeker?","Hiermee verwijder je het resultaat <b>permanent<\/b>.","Annuleren","Verwijderen",function(n){n&&($(t).attr("class","bx bx-loader-circle"),$.post($(t).attr("href"),async function(n,i,r){r.status===200?await reloadComponents():$(t).attr("class","bx bx-x")}).fail(function(){$(t).attr("class","bx bx-x")}));closePopup()},null,"btn-danger")}function pickSchool(n,t,i){$(t).closest(".picker").prepend('<div class="text-center">'+$(t).find("img").get(0).outerHTML+"Je wordt naar <b>"+i+"<\/b> gestuurd...<\/div>");$(t).closest(".picker").addClass("loading-page")}var appWidth,masonryGrid,_canPopover,publishTimeoutId,confirmCallback,customErrorCodes,abortables,directionCookie,currentGalleryId,channel,complete,hasNext,charts,inPopUp,oldValue,submitTimer,sliderTimeoutDict,timeoutDict,$grid,edits,timer,column,timeoutId,autoClose,confirmBootbox;document.addEventListener("DOMContentLoaded",async function(){var s=(n,t,i)=>{const u=document.getElementById(t),r=document.getElementById(n),f=document.getElementById(i),e=document.querySelector(".nav_logo img");r&&u&&f&&(isTouch()?e.addEventListener("click",()=>{r.classList.contains("menu-mobile-open")||(r.classList.toggle("menu-open"),hidePopover())}):(u.addEventListener("mouseenter",()=>{r.classList.contains("menu-mobile-open")||(r.classList.add("menu-open"),hidePopover())}),u.addEventListener("mouseleave",()=>{r.classList.contains("menu-mobile-open")||r.classList.remove("menu-open")})),f.addEventListener("click",()=>{r.classList.add("menu-mobile-open"),hidePopover()}))},t,i,f,n,r,u,o;s("body-pd","nav-bar","header-toggle");fixMainWidth();window.addEventListener("resize",fixMainWidth);window.addEventListener("resize",resizeElements);selectMenuItem();t=document.getElementById("pin");t&&t.addEventListener("click",function(){var n=document.getElementById("body-pd"),t;n.classList.toggle("menu-pinned");this.classList.toggle("bxs-pin");n.classList.contains("menu-pinned")?fixMainWidth():fixMainWidth(null,156);t=n.classList.contains("menu-pinned")?"menu-pinned":"menu-not-pinned";saveCookie(".MijnRapportfolio.MenuPinned",t,!1)});i=document.querySelector(".app-navbar .nav_link.more");i&&i.addEventListener("click",function(){var n=document.getElementById("body-pd");n.classList.toggle("menu-more")});f=document.getElementById("body-pd");f&&(document.addEventListener("click",function(n){if(!n.target.closest(".l-navbar")&&!n.target.closest(".header_toggle")){var t=document.getElementById("body-pd");t.classList.remove("menu-mobile-open");n.stopPropagation()}}),document.getElementById("header-back").addEventListener("click",function(){document.getElementById("btn-back").click()}),n=0,window.addEventListener("scroll",function(){var t=window.scrollY-n||1,i;Math.abs(t)>76&&(i=document.getElementById("body-pd"),i.classList.toggle("hidden-bar",t>0&&n>76),n=window.scrollY)}));window.onpopstate=async function(n){if(n.state){var t=document.getElementById("component");t&&(t.innerHTML=n.state.html,document.title=n.state.pageTitle,selectMenuItem(),onPagePopped(),t.setAttribute("data-component-url",window.location.href),t.classList.contains("reload-on-popstate")&&(await reloadComponents(),t.classList.remove("reload-on-popstate")))}};r=document.getElementById("content-page");r&&r.hasAttribute("data-component-url")&&initSkillsContentPage({type:"reload"});const e=()=>{const n=document.documentElement;n.style.setProperty("--app-height",`${window.innerHeight}px`);appWidth=window.innerWidth};window.addEventListener("resize",e);e();window.addEventListener("resize",navTabsHeight);$("body").on("click",function(n){if(!canPopover()||$(n.target).attr("data-bs-toggle")==="popover"||$(n.target).parents(".popover.show").length!==0||$(n.target).parents('*[data-bs-toggle="popover"]').length!==0||$(n.target).hasClass("default")&&$(n.target).parents(".nav-tabs").length!==0||hidePopover(),$(n.target).parents(".l-navbar").length===0&&window.matchMedia("(pointer: coarse)").matches){var t=document.getElementById("body-pd");t&&!t.classList.contains("menu-mobile-open")&&t.classList.remove("menu-open")}});u=iosVersion();u&&(o=parseInt(u.Major_Release_Numeric),o<=11&&$("html").addClass("ios-11"));$(document).on("click",'*[data-bs-toggle="tab"]',function(n){var t,i;try{t=$(n.target).hasClass("active")?$(n.target):$(n.target).closest('*[data-bs-toggle="tab"]');$(t).hasClass("double-active")&&($(t).removeClass("double-active"),i=$(n.target).closest(".nav-tabs").find("li a.default:visible"),i.tab("show"))}catch(n){}});$(document).on("mousedown",'*[data-bs-toggle="tab"]',function(n){try{var t=$(n.target).closest(".nav-tabs").find("li a.active");t.hasClass("active")&&($(".nav-tabs li a.double-active").removeClass("double-active"),t.addClass("double-active"));t.removeClass("active")}catch(n){}});$(document).on("input","textarea",function(n){textAreaAdjustEl(n.target)});$(document).on("click","#header-start",animateBack);$(document).on("click",'.user-menu li[role="menuitem"] > a, .app .user-menu li.app-forward > a',animateForward)});appWidth=0;_canPopover=null;customErrorCodes={};customErrorCodes[304]="Er is iets misgegaan";customErrorCodes[500]="Er is iets misgegaan";customErrorCodes[399]="Er is geen kind geselecteerd";customErrorCodes[398]="Er is geen bestand geselecteerd";customErrorCodes[397]="Niet alle kinderen zijn succesvol verwijderd";customErrorCodes[396]="Het gekozen bestandstype wordt niet ondersteund. De ondersteunde bestandstypen zijn bmp, gif, jpeg, jpg, png, pdf, doc, docx, ppt, pptx, xls, xlsx, mp4, mov, mp3, ogg, wav, m4a en aac";customErrorCodes[395]="Er zijn geen categorieën geselecteerd";customErrorCodes[494]="Kind(eren) is/zijn niet gevonden";customErrorCodes[493]="Het bestand is niet gevonden";customErrorCodes[392]="Je hebt het maximaal aantal favorieten bereikt, verwijder een bestand van je favorieten om er een toe te kunnen voegen";customErrorCodes[491]="Voor het inleveren van een format wordt een excel document verwacht";customErrorCodes[394]="Er is iets misgegaan bij het opslaan van het antwoord, neem contact op met een bevoegde";customErrorCodes[393]="Niet alle (verplichte) vragen zijn beantwoord";customErrorCodes[488]="Het kind is niet gevonden";customErrorCodes[487]="Je hebt geen rechten voor dit kind";customErrorCodes[486]="Je hebt geen rechten voor deze groep";customErrorCodes[485]="De test is niet gevonden";customErrorCodes[384]="De test wordt niet ingevuld voor/door het geselecteerde kind(eren)";customErrorCodes[483]="De gebruiker is niet gevonden";customErrorCodes[379]="Dit bestand staat al op je prikbord";$(document).ajaxComplete(function(n,t){typeof url_SessionTimeout!="undefined"&&url_SessionTimeout&&url_SessionTimeout.length&&t.status===401&&($("body").fadeOut("fast"),location.href=url_SessionTimeout)});$(document).ajaxComplete(function(n,t,i){t.status===200||t.status===201||t.status===202||t.status===422||t.status===392||t.responseText&&t.responseText.length&&!(t.responseText.indexOf("errorPage")<0)||n&&n.target&&$(n.target).hasClass("talent-form")||i&&i.url&&i.url.includes("Alumni/DeleteStudent")||onError(null,t.status)});abortables=[];directionCookie="direction";$(document).ready(function(){$(document).on("mouseup touchend",function(n){var t=$(".bootstrap-datetimepicker-widget");t&&t.length>0&&!t.is(n.target)&&t.has(n.target).length===0&&t.siblings("input").datetimepicker("hide")});$("body").keyup(function(n){n.which===27&&(n.preventDefault(),closePopup(),$(".bs-container.dropdown.bootstrap-select").remove())});$("body").on("hidden.bs.modal",function(){$(".bs-container.dropdown.open").remove();$(".bs-container.dropdown.show").remove()});try{$(".dropdown-toggle").dropdown();initTooltips()}catch(n){}$("img.preview").bind("load",function(){$(this).css("background","transparent")});checkPosters();$("#spinner").fadeOut(10);$(".content-loading").fadeIn(20);isTouch()&&($("body").css("cursor","pointer"),$("body").addClass("pointer-coarse"));$(".app .height-100")&&$(".app .height-100").length&&PullToRefresh.init({mainElement:".app .height-100",onRefresh:function(){$(".app .height-100").html('<span class="loading"><\/span>');window.location.reload()},instructionsPullToRefresh:"Swipe om te vernieuwen",instructionsReleaseToRefresh:"Laat los om te vernieuwen",instructionsRefreshing:"Vernieuwen",shouldPullToRefresh:function(){return!window.scrollY&&!$("body").hasClass("popup-show")&&!document.querySelector("body").scrollTop&&$(".btn-toggle-view.block-view.active, .btn-toggle-view.list-view.active").length==0}});loadAsync(".picker div[data-load-url], .student-profile-nav div[data-load-url], .user-menu li[data-load-url]");$(document).on("focus","input[type=range]",function(){$(this).on("wheel.disableScroll",function(n){n.preventDefault()})});$(document).on("blur","input[type=range]",function(){$(this).off("wheel.disableScroll")})});$.ajaxSetup({cache:!1});$(document).ajaxSend(function(n,t,i){try{i.url.indexOf("/Student/")<0&&abortables.push(t)}catch(r){}});jQuery.expr[":"].parents=function(n,t,i){return jQuery(n).parents(i[3]).length<1};$(function(){if($("html").hasClass("app")&&$("html").hasClass("ios"))$(document).on("click","input:file",function(){$("html").hasClass("has-camera-permission")||requestCameraPermission()})});document.addEventListener("DOMContentLoaded",async function(){try{channel=new BroadcastChannel("mijnrapportfolio_channel");channel.onmessage=onChannelMessage}catch(n){}});complete=!0;hasNext=!0;charts={};inPopUp=!1;submitTimer=0;$("#goodJob").on("hidden.bs.modal",function(){reloadAnswers()});sliderTimeoutDict=[];timeoutDict=[];$(function(){$(document).on("change",".files",function(){readURL(this)})});const monthNames=["jan.","feb.","maa.","apr.","mei","jun.","jul.","aug.","sept.","okt.","nov.","dec."];edits=0;autoClose=!0;$(function(){$(window).keydown(function(n){if(n.keyCode===13&&!$("textarea").is(":focus"))return n.preventDefault(),!1});initForm();jQuery.expr[":"].Contains=function(n,t,i){return(n.textContent||n.innerText||"").toUpperCase().indexOf(i[3].toUpperCase())>=0};jQuery.expr[":"].Equals=function(n,t,i){return(n.textContent||n.innerText||"").toUpperCase()===i[3].toUpperCase()};$(document).on("keyup",".filter",function(){var t=$(this).val().toUpperCase(),f=$(this).data("ul"),u=$(this).data("btn"),n=document.getElementById(f).getElementsByTagName("li"),r;if(t){for(r=0,i=0;i<n.length;i++)searchable=n[i].innerHTML,searchable&&(n[i].style.display=searchable.toUpperCase().indexOf(t)>-1?"":"none",searchable.toUpperCase()===t&&r++);document.getElementById(u).style.display=r===0?"":"none"}else for(i=0;i<n.length;i++)n[i].style.display=n[i].id!==u?"":"none"});$(document).on("change",".popup-body input:file",function(){$(this).parents(".talent-container:first").find(".choosePicture").text("");readModalURL(this)});$(document).on("click",".no-results",function(){var n=$(this).closest(".bootstrap-select");n&&n.hasClass("addable")&&addTalentItem($(n).find(".dropdown-menu .bs-searchbox input").val(),$("#optionGroupId").val(),$("#position").val())})});$(initTestCharts);